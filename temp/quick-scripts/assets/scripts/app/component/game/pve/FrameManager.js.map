{"version":3,"sources":["FrameManager.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\..\\assets\\scripts\\app\\component\\game\\pve","sourcesContent":["import { Play } from \"../../../module/Modules\";\r\nimport { GRID_TYPE } from \"../PlayDefine\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class FrameManager extends cc.Component {\r\n    @property(cc.Prefab)\r\n    pfbExterior: cc.Prefab = null;\r\n    @property(cc.Prefab)\r\n    pfbInner: cc.Prefab = null;\r\n    @property(cc.Node)\r\n    panelFrame: cc.Node = null;\r\n    onLoad () {\r\n        // this.initFrame();\r\n    }\r\n\r\n    start () {\r\n\r\n    }\r\n    private exterior = [];\r\n    private inner = [];\r\n    private frames = [];\r\n    // 初始化边框\r\n    public initFrame() {\r\n        this.addFrame();\r\n        this.connectLine();\r\n    }\r\n   \r\n    connectLine() {\r\n        // 横向向右连\r\n        // 纵向向下连\r\n        for (var x = 0; x < 8; ++x) {\r\n            this.searchColLeftStart(x, 0);\r\n            this.searchColRightStart(x, 0);\r\n        }\r\n\r\n        for (var y = 0; y < 9; ++y) {\r\n            this.searchRowDownStart(0, y);\r\n            this.searchRowUpStart(0, y);\r\n        }\r\n    }\r\n\r\n    searchRowUpStart(startX, startY) {\r\n        for (var x = startX; x < 8; ++x) {\r\n            if (startY - 1 >= 0 && Play.DataPve.grid[x][startY - 1] == 0) {\r\n                if (this.exterior[x][startY - 1].up_left == 1) {\r\n                    this.searchRowUpEnd(x, startY, true);\r\n                    break;\r\n                }\r\n            }\r\n            if (Play.DataPve.grid[x][startY] == 1) {\r\n                if (this.inner[x][startY].down_left == 1) {\r\n                    this.searchRowUpEnd(x, startY, false);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n    //\r\n    searchRowUpEnd(startX, startY, isExterior) {\r\n        for (var x = startX; x < 8; ++x) {\r\n            if (startY - 1 >= 0 && Play.DataPve.grid[x][startY - 1] == 0) {\r\n                if (this.exterior[x][startY - 1].up_right == 1) {\r\n                    var distance = x - startX;\r\n                    if (isExterior) {\r\n                        this.frames[startX][startY - 1].up_left.width = 80 * (distance + 1) - 40;\r\n                    } else {\r\n                        this.frames[startX][startY].down_left.height = 80 * (distance + 1) - 25;\r\n                    }\r\n                    this.searchRowUpStart(x + 1, startY);\r\n                    break;\r\n                }\r\n            }\r\n            if (Play.DataPve.grid[x][startY] == 1) {\r\n                if (this.inner[x][startY].down_right == 1) {\r\n                    var distance = x - startX;\r\n                    if (isExterior) {\r\n                        this.frames[startX][startY - 1].up_left.width = 80 * (distance + 1) - 25;\r\n                    } else {\r\n                        this.frames[startX][startY].down_left.height = 80 * (distance + 1) - 10;\r\n                    }\r\n                    this.searchRowUpStart(x + 1, startY);\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n\r\n    searchRowDownStart(startX, startY) {\r\n        for (var x = startX; x < 8; ++x) {\r\n            if (startY + 1 < 9 && Play.DataPve.grid[x][startY + 1] == 0) {\r\n                if (this.exterior[x][startY + 1].down_left == 1) {\r\n                    this.searchRowDownEnd(x, startY, true);\r\n                    break;\r\n                }\r\n            }\r\n            if (Play.DataPve.grid[x][startY] == 1) {\r\n                if (this.inner[x][startY].up_left == 1) {\r\n                    this.searchRowDownEnd(x, startY, false);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n    searchRowDownEnd(startX, startY, isExterior) {\r\n        for (var x = startX; x < 8; ++x) {\r\n            if (startY + 1 < 9 && Play.DataPve.grid[x][startY + 1] == 0) {\r\n                if (this.exterior[x][startY + 1].down_right == 1) {\r\n                    var distance = x - startX;\r\n                    if (isExterior) {\r\n                        this.frames[startX][startY + 1].down_left.height = 80 * (distance + 1) - 40;\r\n                    } else {\r\n                        this.frames[startX][startY].up_left.height = 80 * (distance + 1) - 26;\r\n                    }\r\n                    this.searchRowDownStart(x + 1, startY);\r\n                    break;\r\n                }\r\n            }\r\n            if (Play.DataPve.grid[x][startY] == 1) {\r\n                if (this.inner[x][startY].up_right == 1) {\r\n                    var distance = x - startX;\r\n                    if (isExterior) {\r\n                        this.frames[startX][startY + 1].down_left.height = 80 * (distance + 1) - 26;\r\n                    } else {\r\n                        this.frames[startX][startY].up_left.height = 80 * (distance + 1) - 10;\r\n                    }\r\n                    this.searchRowDownStart(x + 1, startY);\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n\r\n    searchColLeftStart(startX, startY) {\r\n        for (var y = startY; y < 9; ++y) {\r\n            if (startX - 1 >= 0 && Play.DataPve.grid[startX - 1][y] == 0) {\r\n                if (this.exterior[startX - 1][y].down_right == 1) {\r\n                    this.searchColLeftEnd(startX, y, true);\r\n                    break;\r\n                }\r\n            }\r\n            if (Play.DataPve.grid[startX][y] == 1) {\r\n                if (this.inner[startX][y].down_left == 1) {\r\n                    this.searchColLeftEnd(startX, y, false);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    searchColLeftEnd(startX, startY, isExterior) {\r\n        for (var y = startY; y < 9; ++y) {\r\n            if (startX - 1 >= 0 && Play.DataPve.grid[startX - 1][y] == 0) {\r\n                if (this.exterior[startX - 1][y].up_right == 1) {\r\n                    var distance = y - startY;\r\n                    if (isExterior) {\r\n                        this.frames[startX - 1][startY].down_right.width = 80 * (distance + 1) - 39;\r\n                    } else {\r\n                        this.frames[startX][startY].down_left.width = 80 * (distance + 1) - 25;\r\n                    }\r\n                    this.searchColLeftStart(startX, y + 1);\r\n                    break;\r\n                }\r\n            }\r\n            if (Play.DataPve.grid[startX][y] == 1) {\r\n                if (this.inner[startX][y].up_left == 1) {\r\n                    var distance = y - startY;\r\n                    if (isExterior) {\r\n                        this.frames[startX - 1][startY].down_right.width = 80 * (distance + 1) - 25;\r\n                    } else {\r\n                        this.frames[startX][startY].down_left.width = 80 * (distance + 1) - 10;\r\n                    }\r\n                    this.searchColLeftStart(startX, y + 1);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    searchColRightEnd(startX, startY, isExterior) {\r\n        for (var y = startY; y < 9; ++y) {\r\n            if (startX + 1 < 8 && Play.DataPve.grid[startX + 1][y] == 0) {\r\n                if (this.exterior[startX + 1][y].up_left == 1) {\r\n                    var distance = y - startY;\r\n                    if (isExterior) {\r\n                        this.frames[startX + 1][startY].down_left.width = 80 * (distance + 1) - 39;\r\n                    } else {\r\n                        this.frames[startX][startY].down_right.height = 80 * (distance + 1) - 26;\r\n                    }\r\n                    this.searchColRightStart(startX, y + 1);\r\n                    break;\r\n                }\r\n            }\r\n            if (Play.DataPve.grid[startX][y] == 1) {\r\n                if (this.inner[startX][y].up_right == 1) {\r\n                    var distance = y - startY;\r\n                    if (isExterior) {\r\n                        this.frames[startX + 1][startY].down_left.width = 80 * (distance + 1) - 24;\r\n                    } else {\r\n                        this.frames[startX][startY].down_right.height = 80 * (distance + 1) - 9;\r\n                    }\r\n                    this.searchColRightStart(startX, y + 1);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    searchColRightStart(startX, startY) {\r\n        for (var y = startY; y < 9; ++y) {\r\n            if (startX + 1 < 8 && Play.DataPve.grid[startX + 1][y] == 0) {\r\n                if (this.exterior[startX + 1][y].down_left == 1) {\r\n                    this.searchColRightEnd(startX, y, true);\r\n                    break;\r\n                }\r\n            }\r\n            if (Play.DataPve.grid[startX][y] == 1) {\r\n                if (this.inner[startX][y].down_right == 1) {\r\n                    this.searchColRightEnd(startX, y, false);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    setInner(x, y, type) {\r\n        var nodFrame = null;\r\n        this.frames[x][y] = this.frames[x][y] || {\r\n            up_left: null,\r\n            up_right: null,\r\n            down_right: null,\r\n            down_left: null\r\n        };\r\n        var startX = -3.5 * 80;\r\n        var startY = 0.5 * 80;\r\n        if (type == 1) {\r\n            nodFrame = cc.instantiate(this.pfbInner);\r\n            nodFrame.scaleX = -1;\r\n            nodFrame.rotation = 270;\r\n            nodFrame.setPosition(80 * x + startX - 54,\r\n                80 * y + startY + 55);\r\n            this.frames[x][y].up_left = nodFrame;\r\n        } else if (type == 2) {\r\n            nodFrame = cc.instantiate(this.pfbInner);\r\n            nodFrame.rotation = 90;\r\n            nodFrame.setPosition(80 * x + startX + 55,\r\n                80 * y + startY + 55);\r\n            this.frames[x][y].up_right = nodFrame;\r\n        } else if (type == 3) {\r\n            nodFrame = cc.instantiate(this.pfbInner);\r\n            nodFrame.rotation = 180;\r\n            nodFrame.setPosition(80 * x + startX + 55,\r\n                80 * y + startY - 55);\r\n            this.frames[x][y].down_right = nodFrame;\r\n        } else if (type == 4) {\r\n            nodFrame = cc.instantiate(this.pfbInner);\r\n            nodFrame.rotation = 270;\r\n            nodFrame.setPosition(80 * x + startX - 54,\r\n                80 * y + startY - 55);\r\n            this.frames[x][y].down_left = nodFrame;\r\n        }\r\n        if (nodFrame) {\r\n            nodFrame.parent = this.panelFrame;\r\n        }\r\n    }\r\n\r\n    setExterior(x, y, type) {\r\n        var nodFrame = null;\r\n        this.frames[x][y] = this.frames[x][y] || {\r\n            up_left: null,\r\n            up_right: null,\r\n            down_right: null,\r\n            down_left: null\r\n        };\r\n        var startX = -3.5 * 80;\r\n        var startY = 0.5 * 80;\r\n        if (type == 1) {\r\n            nodFrame = cc.instantiate(this.pfbExterior);\r\n            // nodFrame.scaleX = -1;\r\n            // nodFrame.rotation = 270;\r\n            nodFrame.setPosition(80 * x + startX - 40,\r\n                80 * y + startY + 39);\r\n            this.frames[x][y].up_left = nodFrame;\r\n        } else if (type == 2) {\r\n            nodFrame = cc.instantiate(this.pfbExterior);\r\n            nodFrame.rotation = 90;\r\n            nodFrame.setPosition(80 * x + startX + 40,\r\n                80 * y + startY + 40);\r\n            this.frames[x][y].up_right = nodFrame;\r\n        } else if (type == 3) {\r\n            nodFrame = cc.instantiate(this.pfbExterior);\r\n            nodFrame.scaleX = -1;\r\n            nodFrame.rotation = 90;\r\n            nodFrame.setPosition(80 * x + startX + 40,\r\n                80 * y + startY - 40);\r\n            this.frames[x][y].down_right = nodFrame;\r\n        } else if (type == 4) {\r\n            nodFrame = cc.instantiate(this.pfbExterior);\r\n            nodFrame.rotation = 270;\r\n            nodFrame.setPosition(80 * x + startX - 39,\r\n                80 * y + startY - 40);\r\n            this.frames[x][y].down_left = nodFrame;\r\n        }\r\n        if (nodFrame) {\r\n            nodFrame.parent = this.panelFrame;\r\n        }\r\n    }\r\n    // 添加边角frame\r\n    addFrame() {\r\n        this.frames = [];\r\n        this.inner = [];// 内角\r\n        this.exterior = [];\r\n        for (var x = 0; x < 8; ++x) {\r\n            this.frames[x] = [];\r\n            this.inner[x] = [];\r\n            this.exterior[x] = [];\r\n            for (var y = 0; y < 9; ++y) {\r\n                if (Play.DataPve.grid[x][y] == 0) {\r\n                    // this.inner[x][y] = null;\r\n                    this.exterior[x][y] = {\r\n                        up_left: 0,\r\n                        up_right: 0,\r\n                        down_right: 0,\r\n                        down_left: 0\r\n                    }\r\n                    // 判断外角\r\n                    if (x - 1 >= 0 && y + 1 < 9 && Play.DataPve.grid[x - 1][y] == 1 && Play.DataPve.grid[x][y + 1] == 1) {\r\n                        // 1\r\n                        this.exterior[x][y].up_left = 1;\r\n                        this.setExterior(x, y, 1);\r\n                    }\r\n                    if (x + 1 < 8 && y + 1 < 9 && Play.DataPve.grid[x + 1][y] == 1 && Play.DataPve.grid[x][y + 1] == 1) {\r\n                        // 2\r\n                        this.exterior[x][y].up_right = 1;\r\n                        this.setExterior(x, y, 2);\r\n                    }\r\n                    if (x + 1 < 8 && y - 1 >= 0 && Play.DataPve.grid[x + 1][y] == 1 && Play.DataPve.grid[x][y - 1] == 1) {\r\n                        // 3\r\n                        this.exterior[x][y].down_right = 1;\r\n                        this.setExterior(x, y, 3);\r\n                    }\r\n                    if (x - 1 >= 0 && y - 1 >= 0 && Play.DataPve.grid[x - 1][y] == 1 && Play.DataPve.grid[x][y - 1] == 1) {\r\n                        // 4\r\n                        this.exterior[x][y].down_left = 1;\r\n                        this.setExterior(x, y, 4);\r\n                    }\r\n                } else {\r\n                    // 判断内角\r\n                    this.inner[x][y] = {\r\n                        up_left: 0,\r\n                        up_right: 0,\r\n                        down_right: 0,\r\n                        down_left: 0\r\n                    }\r\n                    // 1\r\n                    if (x - 1 < 0) {\r\n                        if (y + 1 >= 9) {\r\n                            this.inner[x][y].up_left = 1;\r\n                            this.setInner(x, y, 1);\r\n                        } else if (Play.DataPve.grid[x][y + 1] == 0) {\r\n                            this.inner[x][y].up_left = 1;\r\n                            this.setInner(x, y, 1);\r\n                        }\r\n                    } else if (Play.DataPve.grid[x - 1][y] == 0) {\r\n                        if (y + 1 >= 9) {\r\n                            this.inner[x][y].up_left = 1;\r\n                            this.setInner(x, y, 1);\r\n                        } else if (Play.DataPve.grid[x][y + 1] == 0 && Play.DataPve.grid[x - 1][y + 1] == 0) {\r\n                            this.inner[x][y].up_left = 1;\r\n                            this.setInner(x, y, 1);\r\n                        }\r\n\r\n                    }\r\n                    // 2\r\n                    if (x + 1 >= 8) {\r\n                        if (y + 1 >= 9) {\r\n                            this.inner[x][y].up_right = 1;\r\n                            this.setInner(x, y, 2);\r\n\r\n                        } else if (Play.DataPve.grid[x][y + 1] == 0) {\r\n                            this.inner[x][y].up_right = 1;\r\n                            this.setInner(x, y, 2);\r\n\r\n                        }\r\n                    } else if (Play.DataPve.grid[x + 1][y] == 0) {\r\n                        if (y + 1 >= 9) {\r\n                            this.inner[x][y].up_right = 1;\r\n                            this.setInner(x, y, 2);\r\n\r\n                        } else if (Play.DataPve.grid[x][y + 1] == 0 && Play.DataPve.grid[x + 1][y + 1] == 0) {\r\n                            this.inner[x][y].up_right = 1;\r\n                            this.setInner(x, y, 2);\r\n\r\n                        }\r\n\r\n                    }\r\n\r\n                    // 3\r\n                    if (x + 1 >= 8) {\r\n                        if (y - 1 < 0) {\r\n                            this.inner[x][y].down_right = 1;\r\n                            this.setInner(x, y, 3);\r\n\r\n                        } else if (Play.DataPve.grid[x][y - 1] == 0) {\r\n                            this.inner[x][y].down_right = 1;\r\n                            this.setInner(x, y, 3);\r\n\r\n                        }\r\n                    } else if (Play.DataPve.grid[x + 1][y] == 0) {\r\n                        if (y - 1 < 0) {\r\n                            this.inner[x][y].down_right = 1;\r\n                            this.setInner(x, y, 3);\r\n\r\n                        } else if (Play.DataPve.grid[x][y - 1] == 0 && Play.DataPve.grid[x + 1][y - 1] == 0) {\r\n                            this.inner[x][y].down_right = 1;\r\n                            this.setInner(x, y, 3);\r\n\r\n                        }\r\n\r\n                    }\r\n\r\n                    // 4\r\n                    if (x - 1 < 0) {\r\n                        if (y - 1 < 0) {\r\n                            this.inner[x][y].down_left = 1;\r\n                            this.setInner(x, y, 4);\r\n\r\n                        } else if (Play.DataPve.grid[x][y - 1] == 0) {\r\n                            this.inner[x][y].down_left = 1;\r\n                            this.setInner(x, y, 4);\r\n\r\n                        }\r\n                    } else if (Play.DataPve.grid[x - 1][y] == 0) {\r\n                        if (y - 1 < 0) {\r\n                            this.inner[x][y].down_left = 1;\r\n                            this.setInner(x, y, 4);\r\n\r\n                        } else if (Play.DataPve.grid[x][y - 1] == 0 && Play.DataPve.grid[x - 1][y - 1] == 0) {\r\n                            this.inner[x][y].down_left = 1;\r\n                            this.setInner(x, y, 4);\r\n\r\n                        }\r\n\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n"]}