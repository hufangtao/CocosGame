{"version":3,"sources":["DotAnimation.ts"],"names":[],"mappings":";;;;;AAAM,IAAA,kBAAqC,EAAnC,oBAAO,EAAE,sBAAQ,CAAmB;AAG5C;IAA0C,gCAAY;IADtD;QAAA,qEAgEC;QAvDC,YAAY;QACJ,gBAAU,GAAgB,IAAI,CAAC;QAC/B,aAAO,GAAY,IAAI,CAAC;QAEhC,WAAW;QACH,YAAM,GAAW,CAAC,CAAC;QAE3B,YAAY;QACJ,eAAS,GAAgB,IAAI,CAAC;;IA+CxC,CAAC;qBA/DoB,YAAY;IAEjB,4BAAe,GAA7B;QACE,IAAM,aAAa,GAAY,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;QAC7C,IAAM,YAAY,GAAG,aAAa,CAAC,YAAY,CAAC,cAAY,CAAC,CAAC;QAC9D,OAAO,YAAY,CAAC;IACtB,CAAC;IAcM,6BAAM,GAAb;QACE;;;;UAIE;QAEF,aAAa;QACb,IAAI,CAAC,OAAO,GAAG,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;QAC7B,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACjC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC;QAEzD,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,QAAQ,CAAC;YACZ,IAAI,CAAC,UAAU,EAAE,CAAC;QACpB,CAAC,EAAE,GAAG,CAAC,CAAC;IACV,CAAC;IAEM,iCAAU,GAAjB;QACE,IAAM,GAAG,GAAG,EAAE,CAAC;QACf,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;YACnB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,GAAG,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAC5C,IAAI,CAAC,MAAM,EAAE,CAAC;SACf;aAAM;YACL,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;YAChB,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;SACzB;IACH,CAAC;IAEM,8BAAO,GAAd,UAAe,IAAY,EAAE,IAAY,EAAE,IAAY;QACrD,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;QACzC,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;QACzB,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;IACzB,CAAC;IAEO,qCAAc,GAAtB;QACE,IAAM,KAAK,GAAG,GAAG,CAAC;QAClB,IAAM,MAAM,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;QAChE,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,IAAI,EAAE,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACpD,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC;QACxB,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;IACxB,CAAC;IA9DkB,YAAY;QADhC,OAAO;OACa,YAAY,CA+DhC;IAAD,mBAAC;;CA/DD,AA+DC,CA/DyC,EAAE,CAAC,SAAS,GA+DrD;kBA/DoB,YAAY","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\..\\assets\\scripts\\app\\component\\page\\preload","sourcesContent":["const { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class DotAnimation extends cc.Component {\r\n\r\n  public static NewDotAnimation(): DotAnimation {\r\n    const animationNode: cc.Node = new cc.Node();\r\n    const dotAnimation = animationNode.addComponent(DotAnimation);\r\n    return dotAnimation;\r\n  }\r\n\r\n  // 画点graph节点\r\n  private dotGraphic: cc.Graphics = null;\r\n  private dotNode: cc.Node = null;\r\n\r\n  // 变量提示点的数目\r\n  private dotNum: number = 0;\r\n\r\n  // 背景graph节点\r\n  private bgGraphic: cc.Graphics = null;\r\n\r\n\r\n\r\n  public onLoad() {\r\n    /*\r\n    // 创建渲染背景的组件\r\n    this.bgGraphic = this.node.addComponent(cc.Graphics);\r\n    this.drawBackground();\r\n    */ \r\n\r\n    // 创建渲染dot的节点\r\n    this.dotNode = new cc.Node();\r\n    this.node.addChild(this.dotNode);\r\n    this.dotGraphic = this.dotNode.addComponent(cc.Graphics);\r\n\r\n    const self = this;\r\n    this.schedule(function() {\r\n      self.updateDots();\r\n    }, 0.5);\r\n  }\r\n\r\n  public updateDots() {\r\n    const gap = 25;\r\n    if (this.dotNum < 3) {\r\n      this.drawDot(this.dotNum * gap - gap, 0, 7);\r\n      this.dotNum++;\r\n    } else {\r\n      this.dotNum = 0;\r\n      this.dotGraphic.clear();\r\n    }\r\n  }\r\n\r\n  public drawDot(posX: number, posY: number, size: number) {\r\n    this.dotGraphic.circle(posX, posY, size);\r\n    this.dotGraphic.stroke();\r\n    this.dotGraphic.fill();\r\n  }\r\n\r\n  private drawBackground() {\r\n    const width = 200;\r\n    const height = 40;\r\n    this.bgGraphic.rect(-(width / 2), -(height / 2), width, height);\r\n    this.bgGraphic.fillColor = new cc.Color(0, 0, 0, 0);\r\n    this.bgGraphic.stroke();\r\n    this.bgGraphic.fill();\r\n  }\r\n}\r\n"]}