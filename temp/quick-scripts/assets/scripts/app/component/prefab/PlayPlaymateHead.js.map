{"version":3,"sources":["PlayPlaymateHead.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\scripts\\app\\component\\prefab","sourcesContent":["import PlaymateHead from \"./PlaymateHead\";\r\nimport { PlaySide } from \"../game/PlayDefine\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class PlayPlaymateHead extends cc.Component {\r\n\r\n  public static getComponent(headNode: cc.Node): PlayPlaymateHead {\r\n    const component: PlayPlaymateHead = headNode.getComponent(\"PlayPlaymateHead\");\r\n    return component;\r\n  }\r\n\r\n  @property(cc.Prefab)\r\n  public prefabPlaymateHead: cc.Prefab  = null;\r\n\r\n  // 红/蓝框(默认隐藏)\r\n  @property(cc.Node)\r\n  private colorFrameNode: cc.Node = null;\r\n\r\n  // 默认头像\r\n  @property(cc.Sprite)\r\n  private unknownHead: cc.Sprite = null;\r\n\r\n  @property(cc.Sprite)\r\n  private nameBgSprite: cc.Sprite = null;\r\n\r\n  // 名字（默认隐藏）\r\n  @property(cc.Label)\r\n  private nameLabel: cc.Label = null;\r\n\r\n  // 性别（默认隐藏）\r\n  @property(cc.Node)\r\n  private sexIconNode: cc.Node = null;\r\n\r\n  private nameBgOriginalWidth: number = 0;\r\n  private nodePlaymateHead: cc.Node = null;\r\n\r\n  public onLoad() {\r\n    this.nameBgOriginalWidth = this.nameBgSprite.node.width;\r\n\r\n    this.nodePlaymateHead = cc.instantiate(this.prefabPlaymateHead);\r\n    this.nodePlaymateHead.parent = this.node;\r\n    this.nodePlaymateHead.setPosition(0, 0);\r\n  }\r\n\r\n  public start() {\r\n    this.colorFrameNode.zIndex = (100);\r\n  }\r\n\r\n  public setPlaymate(headUrl: string) {\r\n    this.unknownHead.node.active = false;\r\n    const playmateHead: PlaymateHead = PlaymateHead.GetComponent(this.nodePlaymateHead);\r\n    playmateHead.HeadUrl = headUrl;\r\n  }\r\n\r\n  public setScale(value: number) {\r\n    this.node.scale = value;\r\n  }\r\n\r\n  public setColorFrame(side: PlaySide) {\r\n    this.colorFrameNode.active = true;\r\n    if (side === PlaySide.BLU) {\r\n      this.colorFrameNode.getChildByName(\"blueBg\").active = true;\r\n      this.colorFrameNode.getChildByName(\"redBg\").active = false;\r\n    } else {\r\n      this.colorFrameNode.getChildByName(\"blueBg\").active = false;\r\n      this.colorFrameNode.getChildByName(\"redBg\").active = true;\r\n    }\r\n  }\r\n\r\n  // 如果需要设置名字，先将其显示\r\n  public setName(name: string) {\r\n    this.nameBgSprite.node.active = true;\r\n    this.nameLabel.node.active = true;\r\n    this.nameLabel.string = name;\r\n  }\r\n  \r\n  // 如果需要设置性别，先将其显示\r\n  public setSex(sex: number) {\r\n    this.sexIconNode.active = true;\r\n    if (sex === 1) {\r\n      this.sexIconNode.getChildByName(\"female\").active = false;\r\n      this.sexIconNode.getChildByName(\"male\").active = true;\r\n    } else {\r\n      this.sexIconNode.getChildByName(\"male\").active = false;\r\n      this.sexIconNode.getChildByName(\"female\").active = true;\r\n    }\r\n  }\r\n}\r\n"]}