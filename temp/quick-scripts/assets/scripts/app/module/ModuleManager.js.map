{"version":3,"sources":["ModuleManager.ts"],"names":[],"mappings":";;;;;AACA,mCAAqC;AAErC;IAAA;IAkCA,CAAC;IA9BC,sBAAkB,yBAAQ;aAA1B;YACE,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE;gBACxB,IAAI,CAAC,cAAc,GAAG,IAAI,aAAa,EAAE,CAAC;aAC3C;YACD,OAAO,IAAI,CAAC,cAAc,CAAC;QAC7B,CAAC;;;OAAA;IAKD,MAAM;IACC,4BAAI,GAAX;QACE,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YACpB,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;YACrB,UAAU;YACV,OAAO,CAAC,MAAM,EAAE,CAAC;SAClB;QAED,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,UAAC,GAAe;YACtC,GAAG,CAAC,IAAI,EAAE,CAAC;QACb,CAAC,CAAC,CAAC;IACL,CAAC;IAED;;OAEG;IACI,iCAAS,GAAhB,UAAiB,GAAe;QAC9B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC5B,CAAC;IAEH,oBAAC;AAAD,CAlCA,AAkCC,IAAA;AAlCY,sCAAa;AAoC1B;IACE,aAAa,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;AAChC,CAAC;AAFD,kCAEC;AAED,mBAA0B,GAAe;IACvC,aAAa,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;AACxC,CAAC;AAFD,8BAEC","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\scripts\\app\\module","sourcesContent":["import BaseModule from \"./BaseModule\";\r\nimport * as Modules from \"./Modules\";\r\n\r\nexport class ModuleManager {\r\n\r\n  private static singleInstance: ModuleManager;\r\n\r\n  public static get INSTANCE() {\r\n    if (!this.singleInstance) {\r\n      this.singleInstance = new ModuleManager();\r\n    }\r\n    return this.singleInstance;\r\n  }\r\n\r\n  // 所有子模块的索引\r\n  private subModules: BaseModule[];\r\n\r\n  // 初始化\r\n  public init() {\r\n    if (!this.subModules) {\r\n      this.subModules = [];\r\n      // 各子模块的创建\r\n      Modules.create();\r\n    }\r\n\r\n    this.subModules.forEach((mod: BaseModule) => {\r\n      mod.init();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * 添加新的模块\r\n   */\r\n  public addModule(mod: BaseModule) {\r\n    this.subModules.push(mod);\r\n  }\r\n\r\n}\r\n\r\nexport function InitManager() {\r\n  ModuleManager.INSTANCE.init();\r\n}\r\n\r\nexport function AddModule(mod: BaseModule) {\r\n  ModuleManager.INSTANCE.addModule(mod);\r\n}\r\n"]}