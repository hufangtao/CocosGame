(function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(e):"function"==typeof define&&define.amd?define(t):t(e)})("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this,function(t){"use strict";var r,n=t.Base64;if("undefined"!=typeof module&&module.exports)try{r=require("buffer").Buffer}catch(e){}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=function(e){for(var t={},r=0,n=e.length;r<n;r++)t[e.charAt(r)]=r;return t}(o),c=String.fromCharCode,a=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?c(192|t>>>6)+c(128|63&t):c(224|t>>>12&15)+c(128|t>>>6&63)+c(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return c(240|t>>>18&7)+c(128|t>>>12&63)+c(128|t>>>6&63)+c(128|63&t)},f=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,i=function(e){return e.replace(f,a)},d=function(e){var t=[0,2,1][e.length%3],r=e.charCodeAt(0)<<16|(1<e.length?e.charCodeAt(1):0)<<8|(2<e.length?e.charCodeAt(2):0);return[o.charAt(r>>>18),o.charAt(r>>>12&63),2<=t?"=":o.charAt(r>>>6&63),1<=t?"=":o.charAt(63&r)].join("")},s=t.btoa?function(e){return t.btoa(e)}:function(e){return e.replace(/[\s\S]{1,3}/g,d)},h=r?r.from&&r.from!==Uint8Array.from?function(e){return(e.constructor===r.constructor?e:r.from(e)).toString("base64")}:function(e){return(e.constructor===r.constructor?e:new r(e)).toString("base64")}:function(e){return s(i(e))},l=function(e,t){return t?h(String(e)).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,""):h(String(e))},p=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),g=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return c(55296+(t>>>10))+c(56320+(1023&t));case 3:return c((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return c((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},A=function(e){return e.replace(p,g)},b=function(e){var t=e.length,r=t%4,n=(0<t?u[e.charAt(0)]<<18:0)|(1<t?u[e.charAt(1)]<<12:0)|(2<t?u[e.charAt(2)]<<6:0)|(3<t?u[e.charAt(3)]:0),o=[c(n>>>16),c(n>>>8&255),c(255&n)];return o.length-=[0,0,2,1][r],o.join("")},m=t.atob?function(e){return t.atob(e)}:function(e){return e.replace(/[\s\S]{1,4}/g,b)},y=r?r.from&&r.from!==Uint8Array.from?function(e){return(e.constructor===r.constructor?e:r.from(e,"base64")).toString()}:function(e){return(e.constructor===r.constructor?e:new r(e,"base64")).toString()}:function(e){return A(m(e))},e=function(e){return y(String(e).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))};if(t.Base64={VERSION:"2.4.3",atob:m,btoa:s,fromBase64:e,toBase64:l,utob:i,encode:l,encodeURI:function(e){return l(e,!0)},btou:A,decode:e,noConflict:function(){var e=t.Base64;return t.Base64=n,e}},"function"==typeof Object.defineProperty){var B=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};t.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",B(function(){return e(this)})),Object.defineProperty(String.prototype,"toBase64",B(function(e){return l(this,e)})),Object.defineProperty(String.prototype,"toBase64URI",B(function(){return l(this,!0)}))}}return t.Meteor&&(Base64=t.Base64),"undefined"!=typeof module&&module.exports?module.exports.Base64=t.Base64:"function"==typeof define&&define.amd&&define([],function(){return t.Base64}),{Base64:t.Base64}});