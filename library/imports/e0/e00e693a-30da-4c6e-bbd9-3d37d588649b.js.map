{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\scripts\\app\\ui/assets\\scripts\\app\\ui\\UIMatch.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\scripts\\app\\ui","sourcesContent":["import { Home, Play } from \"../module/Modules\";\r\nimport GamePersist from \"../common/persist/GamePersist\";\r\nimport * as Misc from \"../common/Misc\";\r\nimport { Event_type } from \"../component/game/PlayDefine\";\r\nimport { UIFunc } from \"../common/UIFunc\";\r\nimport HomeManager from \"../component/page/home/HomeManager\";\r\nimport { DYNotify } from \"../../dyGame/DYNotify\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class UIMatch extends cc.Component {\r\n    @property(cc.Label)\r\n    labTime: cc.Label = null;\r\n    @property(cc.Node)\r\n    nod_Head: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    btnBack: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    nodDots: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    nodMyHead: cc.Node = null;\r\n    @property(cc.Sprite)\r\n    sprMyHonor: cc.Sprite = null;\r\n    @property(cc.Label)\r\n    labMyName: cc.Label = null;\r\n    @property(cc.Sprite)\r\n    sprMySex: cc.Sprite = null;\r\n\r\n    @property(cc.Node)\r\n    nodOpponentHead: cc.Node = null;\r\n    @property(cc.Sprite)\r\n    sprOpponentHonor: cc.Sprite = null;\r\n    @property(cc.Label)\r\n    labOpponentName: cc.Label = null;\r\n    @property(cc.Sprite)\r\n    sprOpponentSex: cc.Sprite = null;\r\n\r\n    @property(cc.Node)\r\n    nodSprSearching: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    nodSearching: cc.Node = null;\r\n    @property(cc.Node)\r\n    nodSearched: cc.Node = null;\r\n\r\n    @property(cc.SpriteFrame)\r\n    private spfMale = null;\r\n    @property(cc.SpriteFrame)\r\n    private spfFemale = null;\r\n\r\n    passedTime = 0;\r\n    hadLoadScene = false;\r\n\r\n    onEnable() {\r\n        this.passedTime = 0;\r\n        this.labTime.string = `${this.passedTime}`\r\n        this.setMyInfo();\r\n        this.checkTime();\r\n        // NodePool.initPool();\r\n        DYNotify.regObserver(Event_type.GAMESTART, this.onNotify, this);\r\n        // cc.director.preloadScene('game',()=>{\r\n        //     this.hadLoadScene = true;\r\n        // });\r\n        this.doitAction();\r\n        this.btnBack.active = true;\r\n    }\r\n\r\n    private onNotify(target, tag, param) {\r\n        var self = target;\r\n        if (tag == Event_type.GAMESTART) {\r\n            self.loadGameScene();\r\n        }\r\n    }\r\n\r\n    loadGameScene() {\r\n        cc.audioEngine.stopAll();\r\n        cc.log('loadGameScene');\r\n\r\n        this.btnBack.active = false;\r\n        cc.director.preloadScene('game', () => {\r\n            setTimeout(() => {\r\n                cc.director.loadScene('game');\r\n                UIFunc.closeUI('UIMatch', () => { });\r\n                UIFunc.closeUI('UIChoosePvp', () => { });\r\n            }, 50);\r\n        });\r\n    }\r\n\r\n    checkTime() {\r\n        this.schedule(this.schCB, 1);\r\n    }\r\n\r\n    schCB() {\r\n        this.passedTime++;\r\n        this.labTime.string = `${this.passedTime}`\r\n    }\r\n\r\n    onDisable() {\r\n        DYNotify.removeAllObservers(this);\r\n        this.unschedule(this.schCB);\r\n    }\r\n\r\n    setOpponentInfo() {\r\n        var self = this;\r\n        this.nodSearching.active = false;\r\n        this.nodSprSearching.active = false;\r\n\r\n        this.sprOpponentSex.node.parent.active = true;\r\n        this.nodSearched.active = true;\r\n\r\n        this.setHead(this.nodOpponentHead, Home.DataRoom.opponentPlaymate.headImg);\r\n\r\n        const nStarNum: number = Home.DataRoom.opponentPlaymate.star;\r\n        const honerId: number = Misc.calcHonorId(nStarNum);\r\n\r\n        cc.loader.loadRes('res/rank/rank-' + honerId, cc.SpriteFrame, function (err, spriteFrame) {\r\n            self.sprOpponentHonor.spriteFrame = spriteFrame;\r\n            // cc.loader.setAutoReleaseRecursively(spriteFrame, true)\r\n        });\r\n\r\n        this.labOpponentName.string = Home.DataRoom.opponentPlaymate.name;\r\n        if (Home.DataRoom.opponentPlaymate.sex == 1) {\r\n            this.sprOpponentSex.spriteFrame = this.spfMale;\r\n        } else {\r\n            this.sprOpponentSex.spriteFrame = this.spfFemale;\r\n        }\r\n    }\r\n\r\n    setMyInfo() {\r\n        var self = this;\r\n        this.nodSearching.active = true;\r\n        this.nodSprSearching.active = true;\r\n\r\n        this.sprOpponentSex.node.parent.active = false;\r\n        this.nodSearched.active = false;\r\n\r\n        this.setHead(this.nodMyHead, Home.DataPlayer.MyHeadUrl);\r\n\r\n        const nStarNum: number = Home.DataPlayer.FortuneStar;\r\n\r\n        const honerId: number = Misc.calcHonorId(nStarNum);\r\n        cc.loader.loadRes('res/rank/rank-' + honerId, cc.SpriteFrame, function (err, spriteFrame) {\r\n            self.sprMyHonor.spriteFrame = spriteFrame;\r\n            // cc.loader.setAutoReleaseRecursively(spriteFrame, true)\r\n        });\r\n\r\n        this.labMyName.string = Play.DataPlay.MyName;\r\n        if (Home.DataPlayer.MySex == 1) {\r\n            this.sprMySex.spriteFrame = this.spfMale;\r\n        } else {\r\n            this.sprMySex.spriteFrame = this.spfFemale;\r\n        }\r\n\r\n    }\r\n\r\n    private async setHead(node, headUrl) {\r\n        cc.loader.loadRes(\"prefab/component/PlaymateHead\", cc.Prefab, (err, prefab) => {\r\n            var nodItem = cc.instantiate(prefab)\r\n            nodItem.parent = node;\r\n\r\n            nodItem.setPosition(0, 0)\r\n            nodItem.getComponent('PlaymateHead').setSize(this.nodMyHead.getContentSize());\r\n            nodItem.getComponent('PlaymateHead').HeadUrl = headUrl;\r\n            // cc.loader.setAutoReleaseRecursively(prefab, true)\r\n        })\r\n    }\r\n\r\n    async doitAction() {\r\n        this.nodDots.children[0].y = 0;\r\n        this.nodDots.children[1].y = 0;\r\n        this.nodDots.children[2].y = 0;\r\n        this.nodDots.children[3].y = 0;\r\n        this.nodDots.children[4].y = 0;\r\n        this.nodDots.children[5].y = 0;\r\n        while (Home.DataPlayer.IsMatching) {\r\n            await this.runAction(this.nodDots.children[0], false);\r\n            await this.runAction(this.nodDots.children[1], false);\r\n            await this.runAction(this.nodDots.children[2], false);\r\n            await this.runAction(this.nodDots.children[3], false);\r\n            await this.runAction(this.nodDots.children[4], false);\r\n            await this.runAction(this.nodDots.children[5], true);\r\n        }\r\n\r\n    }\r\n\r\n    private async runAction(node, delay) {\r\n        var self = this;\r\n        return new Promise((resolve, reject) => {\r\n            var action = cc.sequence(\r\n                cc.moveBy(0.05, 0, 10),\r\n                cc.callFunc(() => {\r\n                    if (!delay) {\r\n                        resolve();\r\n                    }\r\n                }),\r\n                cc.moveBy(0.1, 0, -10),\r\n                cc.callFunc(() => {\r\n                    if (delay) {\r\n                        self.scheduleOnce(() => {\r\n                            resolve();\r\n                        }, 0.5)\r\n                    }\r\n                }),\r\n            )\r\n            node.runAction(action);\r\n        })\r\n    }\r\n\r\n    public doCancelMatch() {\r\n        // 如果当前没有在匹配状态 直接返回\r\n        GamePersist.INSTANCE.btnAudio_2();\r\n        UIFunc.closeUI('UIMatch', () => { });\r\n\r\n        this.unscheduleAllCallbacks();\r\n\r\n        Home.DataPlayer.IsMatching = false;\r\n        HomeManager.INSTANCE.makeInvisibleRequest();\r\n    }\r\n\r\n    // update (dt) {}\r\n}\r\n"]}