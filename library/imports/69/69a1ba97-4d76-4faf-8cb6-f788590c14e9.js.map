{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\..\\assets\\scripts\\app\\component\\game\\pve/assets\\scripts\\app\\component\\game\\pve\\PanelHeaderPve.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\..\\assets\\scripts\\app\\component\\game\\pve","sourcesContent":["import {TILE_TYPE, BOMB_TYPE, BLOCK_COLOR } from \"../PlayDefine\";\r\nimport StateMgr from \"./StateMgr\";\r\nimport { Play } from \"../../../module/Modules\";\r\nimport { DYNotify } from \"../../../../dyGame/DYNotify\";\r\nimport panelGuidePve from \"./panelGuidePve\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n@ccclass\r\nexport default class PanelHeaderPve extends cc.Component {\r\n    public static get INSTANCE() {\r\n        return PanelHeaderPve.singleInstance;\r\n    }\r\n    private static singleInstance: PanelHeaderPve;\r\n\r\n    @property(cc.Label)\r\n    labCountDown: cc.Label = null;\r\n    @property(cc.Label)\r\n    labLevel: cc.Label = null;\r\n    @property(cc.Label)\r\n    labScore: cc.Label = null;\r\n    @property(cc.Prefab)\r\n    pfbTableware: cc.Prefab = null;\r\n\r\n    @property(cc.Node)\r\n    nodObjective: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    nodLastTime: cc.Node = null;\r\n    @property(cc.Node)\r\n    nodLastStep: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    nodPanelTile: cc.Node = null;\r\n\r\n    @property(panelGuidePve)\r\n    panelGuide: panelGuidePve = null;\r\n\r\n    @property(cc.Node)\r\n    nodGameOver: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    nodScoreProgress: cc.Node = null;\r\n\r\n   \r\n\r\n    private objective = null;\r\n\r\n    private layerGame = null;\r\n\r\n    public leaves = 0;\r\n\r\n    private passedTime = 0;\r\n    private remainTime = 10;\r\n\r\n    public _isObjectiveDone = [false, false, false, false, false];\r\n    PlayUI;\r\n    onLoad() {\r\n        this.PlayUI = cc.find('Canvas').getComponent('PlayUIPve');\r\n\r\n        PanelHeaderPve.singleInstance = this;\r\n\r\n        this.nodLastTime.active = false;\r\n        this.nodLastStep.active = false;\r\n\r\n\r\n    }\r\n\r\n    // 设置目标位置\r\n    saveObjectivesPs() {\r\n        let index = 0;\r\n        for (let i = 0; i < Play.DataPve.objectives.length; ++i) {\r\n            for (let j = 0; j < Play.DataPve.objectives[i].length; ++j) {\r\n                var sprite = this.nodObjective.children[index].getChildByName('sprite');\r\n                let p_world = sprite.parent.convertToWorldSpaceAR(sprite.getPosition());\r\n                let p_node = this.nodPanelTile.convertToNodeSpaceAR(p_world);\r\n                Play.DataPve.objectives[i][j].position = p_node;\r\n                index++;\r\n            }\r\n        }\r\n    }\r\n\r\n    async gameOver() {\r\n        return new Promise((resolve, reject) => {\r\n            this.nodGameOver.active = true;\r\n            let anim = this.nodGameOver.getComponent(cc.Animation);\r\n            anim.play('aniBonusTime');\r\n            anim.on('finished', () => {\r\n                this.nodGameOver.active = false;\r\n                resolve();\r\n            }, this)\r\n\r\n        })\r\n    }\r\n\r\n    public isObjectiveDone(tileType, type) {\r\n        for (let i = 0; i < this.objective.length; ++i) {\r\n            if (this.objective[i].tileType == tileType && this.objective[i].type == type) {\r\n                return this._isObjectiveDone[i];\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    updateScore(score) {\r\n        this.getScore(score);\r\n    }\r\n\r\n    getScore(score) {\r\n        this.labScore.string = score + '';\r\n\r\n        var nodBg = this.nodScoreProgress.getChildByName('nodBg');\r\n        var nodBar = this.nodScoreProgress.getChildByName('nodBar');\r\n        var nodStar = this.nodScoreProgress.getChildByName('nodStar');\r\n\r\n        var _score = Play.LevelDatas['level_' + Play.DataPve.curLevel].score;\r\n\r\n        nodBar.width = score / _score[3] * nodBg.width;\r\n\r\n        var ps_1 = nodBg.convertToWorldSpaceAR(cc.v2(_score[0] / _score[3] * nodBg.width, 0));\r\n        var ps_2 = nodBg.convertToWorldSpaceAR(cc.v2(_score[1] / _score[3] * nodBg.width, 0));\r\n        var ps_3 = nodBg.convertToWorldSpaceAR(cc.v2(_score[2] / _score[3] * nodBg.width, 0));\r\n        nodStar.children[0].x = nodStar.convertToNodeSpaceAR(ps_1).x;\r\n        nodStar.children[1].x = nodStar.convertToNodeSpaceAR(ps_2).x;\r\n        nodStar.children[2].x = nodStar.convertToNodeSpaceAR(ps_3).x;\r\n\r\n        nodStar.children[3].x = nodStar.convertToNodeSpaceAR(ps_1).x;\r\n        nodStar.children[4].x = nodStar.convertToNodeSpaceAR(ps_2).x;\r\n        nodStar.children[5].x = nodStar.convertToNodeSpaceAR(ps_3).x;\r\n\r\n        if (score >= _score[2]) {\r\n            for (let x = 3; x < 6; ++x) {\r\n                if (!nodStar.children[x].active) {\r\n                    nodStar.children[x].active = true;\r\n                    nodStar.children[x].getComponent(cc.Animation).play('aniSpawnStar');\r\n                }\r\n            }\r\n        } else if (score >= _score[1]) {\r\n            for (let x = 3; x < 5; ++x) {\r\n                if (!nodStar.children[x].active) {\r\n                    nodStar.children[x].active = true;\r\n                    nodStar.children[x].getComponent(cc.Animation).play('aniSpawnStar');\r\n                }\r\n            }\r\n            nodStar.children[5].active = false;\r\n        } else if (score >= _score[0]) {\r\n            if (!nodStar.children[3].active) {\r\n                nodStar.children[3].active = true;\r\n                nodStar.children[3].getComponent(cc.Animation).play('aniSpawnStar');\r\n            }\r\n            nodStar.children[4].active = false;\r\n            nodStar.children[5].active = false;\r\n        } else {\r\n            nodStar.children[3].active = false;\r\n            nodStar.children[4].active = false;\r\n            nodStar.children[5].active = false;\r\n        }\r\n    }\r\n\r\n\r\n    // 更新目标显示\r\n    public updateObjective(data) {\r\n        // console.log(data)\r\n        let label = this.nodObjective.children[data.index].getChildByName('labObjective');\r\n        if (data.count <= 0) {\r\n            this.panelGuide.level1_tip4(data.index);\r\n            label.active = false;\r\n            this.nodObjective.children[data.index].getChildByName('sprAchieved').active = true;\r\n        } else {\r\n            label.active = true;\r\n            label.getComponent(cc.Label).string = 'x' + data.count;\r\n            this.nodObjective.children[data.index].getChildByName('question').active = false;\r\n            this.nodObjective.children[data.index].getChildByName('sprite').active = true;\r\n        }\r\n    }\r\n\r\n    start() {\r\n\r\n    }\r\n\r\n    public init(layerGame) {\r\n        this.saveObjectivesPs();\r\n        Play.DataPve.panelHead = this;\r\n        Play.DataPve.clear();\r\n        this.getScore(0);\r\n        this.layerGame = layerGame;\r\n        this.labScore.string = '0';\r\n        this._isObjectiveDone = [false, false, false, false, false];\r\n\r\n        Play.DataPve.remainTime = Play.DataPve.levelData.time;\r\n        Play.DataPve.remainStep = Play.DataPve.levelData.step;\r\n\r\n        this.labLevel.string = `第${Play.DataPve.curLevel}关`\r\n\r\n        if (Play.DataPve.remainStep == 0) {\r\n            Play.DataPve.isTimeLevel = true;\r\n            this.nodLastTime.active = true;\r\n            this.nodLastStep.active = false;\r\n            this.labCountDown.string = Play.DataPve.remainTime + \"\";\r\n            this.labCountDown.node.parent.getChildByName('labSec').getComponent(cc.Label).string = '秒';\r\n        } else {\r\n            Play.DataPve.isTimeLevel = false;\r\n            this.nodLastTime.active = false;\r\n            this.nodLastStep.active = true;\r\n            this.labCountDown.string = Play.DataPve.remainStep + \"\";\r\n            this.labCountDown.node.parent.getChildByName('labSec').getComponent(cc.Label).string = '步';\r\n        }\r\n\r\n        this.initObjective();\r\n    }\r\n\r\n    initObjective() {\r\n        this.objective = Play.DataPve.levelData.objective;\r\n\r\n        for (let i = 0; i < this.nodObjective.children.length; ++i) {\r\n            this.nodObjective.children[i].active = false;\r\n            this.nodObjective.children[i].getChildByName('sprAchieved').active = false;\r\n            this.nodObjective.children[i].getChildByName('labObjective').active = true;\r\n            var children = this.nodObjective.children[i].getChildByName('sprite').children;\r\n            for (let j = 0; j < children.length; ++j) {\r\n                children[j].destroy();\r\n            }\r\n        }\r\n\r\n        let count = 0;\r\n        for (let i = 0; i < this.objective.length; ++i) {\r\n            for (let j = 0; j < this.objective[i].length; ++j) {\r\n                let nodObjective = this.nodObjective.children[count];\r\n                let data = this.objective[i][j];\r\n                nodObjective.active = true;\r\n                if (j === 0 && i !== 0) {\r\n                    nodObjective.getChildByName('arrow').active = true;\r\n                } else {\r\n                    nodObjective.getChildByName('arrow').active = false;\r\n                }\r\n\r\n                if (data.objectiveType === 0) {// 正常显示水果\r\n                    nodObjective.getChildByName('ban').active = false;\r\n                    nodObjective.getChildByName('question').active = false;\r\n                    nodObjective.getChildByName('sprite').active = true;\r\n                    nodObjective.getChildByName('labObjective').active = true;\r\n                    nodObjective.getChildByName('sprAchieved').active = false;\r\n                } else if (data.objectiveType === 1) {// 显示ban\r\n                    nodObjective.getChildByName('ban').active = true;\r\n                    nodObjective.getChildByName('question').active = false;\r\n                    nodObjective.getChildByName('sprite').active = true;\r\n                    nodObjective.getChildByName('labObjective').active = false;\r\n                    nodObjective.getChildByName('sprAchieved').active = false;\r\n                } else if (data.objectiveType === 2) {// 显示问号\r\n                    nodObjective.getChildByName('ban').active = false;\r\n                    nodObjective.getChildByName('question').active = true;\r\n                    nodObjective.getChildByName('sprite').active = false;\r\n                    nodObjective.getChildByName('labObjective').active = false;\r\n                    nodObjective.getChildByName('sprAchieved').active = false;\r\n                } else {\r\n                    // error\r\n                }\r\n                count++;\r\n\r\n                var labObjective = nodObjective.getChildByName('labObjective').getComponent(cc.Label);\r\n                labObjective.string = `x${data.count}`;\r\n\r\n                switch (data.tileType) {\r\n                    case TILE_TYPE.BLOCK:\r\n                        let nodBlock = cc.instantiate(Play.DataPve.pfbBlock)\r\n                        var tileComponent = nodBlock.getComponent('Block');\r\n                        nodBlock.parent = nodObjective.getChildByName('sprite');\r\n                        tileComponent.init();\r\n                        tileComponent.type = data.type;\r\n                        tileComponent.setContentSize(80, 80);\r\n                        nodBlock.scale = 1;\r\n                        nodBlock.zIndex = 0;\r\n                        nodBlock.x = 0;\r\n                        nodBlock.y = 0;\r\n                        break;\r\n                    case TILE_TYPE.BOMB:\r\n                        let nodBomb = cc.instantiate(Play.DataPve.pfbBomb)\r\n                        nodBomb.parent = nodObjective.getChildByName('sprite');\r\n                        var tileComponent = nodBomb.getComponent('Bomb');\r\n                        tileComponent.init();\r\n                        tileComponent.type = data.type;\r\n                        if (data.type == BOMB_TYPE.BOMB_ONE_COLOR) {\r\n                            tileComponent.subType = BLOCK_COLOR.COLORS;\r\n                        }\r\n                        tileComponent.setContentSize(80, 80);\r\n                        nodBomb.scale = 1;\r\n                        nodBomb.zIndex = 0;\r\n                        nodBomb.x = 0;\r\n                        nodBomb.y = 0;\r\n                        break;\r\n                    case TILE_TYPE.PET:\r\n                        let nodPet = cc.instantiate(Play.DataPve.pfbObstacle)\r\n                        nodPet.parent = nodObjective.getChildByName('sprite');\r\n                        var tileComponent = nodPet.getComponent('Obstacle');\r\n                        tileComponent.type = data.type;\r\n                        tileComponent.canTouch = false;\r\n                        tileComponent.setContentSize(80, 80);\r\n                        nodPet.scale = 1;\r\n                        nodPet.zIndex = 0;\r\n                        nodPet.x = 0;\r\n                        nodPet.y = 0;\r\n                        break;\r\n                    case TILE_TYPE.TABLEWARE:\r\n                        let nodTableware = cc.instantiate(Play.DataPve.pfbTableware)\r\n                        nodTableware.parent = nodObjective.getChildByName('sprite');\r\n                        var tileComponent = nodTableware.getComponent('Tableware');\r\n                        tileComponent.type = data.type;\r\n                        tileComponent.canTouch = false;\r\n                        tileComponent.setContentSize(80, 80);\r\n                        nodTableware.scale = 1;\r\n                        nodTableware.zIndex = 0;\r\n                        nodTableware.x = 0;\r\n                        nodTableware.y = 0;\r\n                        break;\r\n                    case TILE_TYPE.WALL:\r\n                        let nodWall = cc.instantiate(Play.DataPve.pfbWall)\r\n                        nodWall.parent = nodObjective.getChildByName('sprite');\r\n                        var tileComponent = nodWall.getComponent('Wall');\r\n                        tileComponent.type = data.type;\r\n                        tileComponent.setContentSize(80, 80);\r\n                        nodWall.scale = 1;\r\n                        nodWall.zIndex = 0;\r\n                        nodWall.x = 0;\r\n                        nodWall.y = 0;\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    updateLabelStep(){\r\n        this.labCountDown.string = Play.DataPve.remainStep.toString();\r\n    }\r\n\r\n    // 步数计算\r\n    public addStep() {\r\n        if (Play.DataPve.remainStep > 0) {\r\n            Play.DataPve.remainStep--;\r\n\r\n            this.updateLabelStep();\r\n\r\n            if (Play.DataPve.remainStep == 10 && !StateMgr.INSTANCE.isStopOperate) {\r\n                var nodTip = this.node.parent.getChildByName('nodBoard').getChildByName('nodTip');\r\n                this.PlayUI.Audio.remaindTime();\r\n                nodTip.children[0].runAction(cc.sequence(\r\n                    cc.moveBy(0.2, 222, 0),\r\n                    cc.delayTime(2.5),\r\n                    cc.moveBy(0.2, -222, 0)\r\n                ))\r\n            }\r\n\r\n            if (Play.DataPve.remainStep <= 0) {\r\n                // gameover\r\n                StateMgr.INSTANCE.isStopOperate = true;\r\n                this.layerGame.gameOver();\r\n            }\r\n        }\r\n    }\r\n\r\n    updateTime(){\r\n        this.labCountDown.string = Play.DataPve.remainTime + \"\";\r\n    }\r\n\r\n    update(dt) {\r\n        if (!Play.DataPve.gameBegan) {\r\n            return\r\n        }\r\n        this.passedTime += dt;\r\n        if (this.passedTime >= 1) {\r\n            if (Play.DataPve.remainTime >= 1) {\r\n                Play.DataPve.remainTime -= 1;\r\n                this.passedTime = this.passedTime - 1;\r\n                this.labCountDown.string = Play.DataPve.remainTime + \"\";\r\n\r\n                // 小于5秒时开始倒计时声音\r\n                if (Play.DataPve.remainTime <= 5 && Play.DataPve.remainTime >= 1) {\r\n                    this.PlayUI.Audio.countDownAudio();\r\n                } else if (Play.DataPve.remainTime === 0) {\r\n                    this.PlayUI.Audio.timeEndAudio();\r\n                    StateMgr.INSTANCE.isStopOperate = true;\r\n                    this.layerGame.gameOver();\r\n                }\r\n            }\r\n            if (Play.DataPve.remainTime < 1) {\r\n                this.passedTime = 0;\r\n            }\r\n        }\r\n    }\r\n    onDestroy() {\r\n        DYNotify.removeAllObservers(this);\r\n    }\r\n}\r\n"]}