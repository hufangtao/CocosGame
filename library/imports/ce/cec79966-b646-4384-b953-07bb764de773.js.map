{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\..\\assets\\scripts\\app\\component\\game\\pvp/assets\\scripts\\app\\component\\game\\pvp\\DataPvp.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\..\\assets\\scripts\\app\\component\\game\\pvp","sourcesContent":["import { TILE_TYPE, BLOCKDES_TYPE, BLOCK_COLOR } from \"../PlayDefine\";\r\nimport { Home } from \"../../../module/Modules\";\r\nimport { calcHonorId } from \"../../../common/Misc\";\r\n\r\nexport default class DataPvp {\r\n    public pfbScore: cc.Prefab = null;\r\n    public pfbBlock: cc.Prefab = null;\r\n    public pfbBomb: cc.Prefab = null;\r\n    public pfbObstacle: cc.Prefab = null;\r\n    public pfbTileBg: cc.Prefab = null;\r\n    public pfbEncourage: cc.Prefab = null;\r\n    public pfbWall: cc.Prefab = null;\r\n\r\n    panelHeader;\r\n    bottom;\r\n    layerGame;\r\n    playUI;\r\n\r\n    public grid = [];\r\n\r\n    remainTime = 0;// 剩余时间\r\n\r\n    _opponentPetAllCnt: number;// 对手宠物总数，记录服务器发过来的数据\r\n    _opponentBoardPetCnt: number;// 对手棋盘上的数据\r\n\r\n    _myPetAllCnt: number;// 我的宠物总数，记录服务器的数据\r\n\r\n    _petAllCnt: number;// 宠物总数，记录本地的数据\r\n    _petCnt: number;// 宠物收集数量\r\n    _petBeGrabedCnt: number;// 宠物被抢夺数量\r\n    _petGrabCnt: number;// 宠物抢夺数量\r\n    _petSpawnCnt: number;// 宠物生成的数量\r\n    \r\n\r\n\r\n\r\n    public get opponentPetAllCnt() {\r\n        return this._opponentPetAllCnt;\r\n    }\r\n    public set opponentPetAllCnt(value) {\r\n        this._opponentPetAllCnt = value;\r\n    }\r\n\r\n    public get opponentBoardPetCnt() {\r\n        return this._opponentBoardPetCnt;\r\n    }\r\n    public set opponentBoardPetCnt(value) {\r\n        this._opponentBoardPetCnt = value;\r\n    }\r\n\r\n    public get myPetAllCnt() {\r\n        return this._myPetAllCnt;\r\n    }\r\n    public set myPetAllCnt(value) {\r\n        this._myPetAllCnt = value;\r\n    }\r\n\r\n    public get petAllCnt() {\r\n        return this._petCnt + this._petGrabCnt;\r\n    }\r\n\r\n    public get petCnt() {\r\n        return this._petCnt;\r\n    }\r\n    public set petCnt(value) {\r\n        this._petCnt = value;\r\n    }\r\n    public get petBeGrabedCnt() {\r\n        return this._petBeGrabedCnt;\r\n    }\r\n    public set petBeGrabedCnt(value) {\r\n        this._petBeGrabedCnt = value;\r\n    }\r\n    public get petGrabCnt() {\r\n        return this._petGrabCnt;\r\n    }\r\n    public set petGrabCnt(value) {\r\n        this._petGrabCnt = value;\r\n    }\r\n    public get petSpawnCnt() {\r\n        return this._petSpawnCnt;\r\n    }\r\n    public set petSpawnCnt(value) {\r\n        this._petSpawnCnt = value;\r\n    }\r\n\r\n    isSpawnStrongRocket = false;// 是否生成加强火箭\r\n    private _oldGrade: number;// 对局之前的星星数\r\n    private _oldPvpRank: number;// 对局之前的排行\r\n    public get oldPvpRank() {\r\n        return this._oldPvpRank;\r\n    }\r\n    public set oldPvpRank(value) {\r\n        this._oldPvpRank = value;\r\n    }\r\n\r\n    private _beginTime = 0;//对局开始时间\r\n\r\n    private _operateCount: number;//点消次数，点击炸弹不算，目前用在被动buff上\r\n    public get operateCount() {\r\n        return this._operateCount;\r\n    }\r\n    public set operateCount(value) {\r\n        this._operateCount = value;\r\n    }\r\n\r\n\r\n    private _waittingSpawnPetCount: number = 0;// 等待被生成的宠物\r\n    private _waittingSpawnRocketCount: number = 0;// 等待被生成的火箭\r\n    private _waittingSpawnStrongRocketCount: number = 0;// 等待被生成的加强火箭\r\n    public get waittingSpawnPetCount() {\r\n        return this._waittingSpawnPetCount;\r\n    }\r\n    public set waittingSpawnPetCount(value) {\r\n        this._waittingSpawnPetCount = value;\r\n    }\r\n    public get waittingSpawnRocketCount() {\r\n        return this._waittingSpawnRocketCount;\r\n    }\r\n    public set waittingSpawnRocketCount(value) {\r\n        this._waittingSpawnRocketCount = value;\r\n    }\r\n    public get waittingSpawnStrongRocketCount() {\r\n        return this._waittingSpawnStrongRocketCount;\r\n    }\r\n    public set waittingSpawnStrongRocketCount(value) {\r\n        this._waittingSpawnStrongRocketCount = value;\r\n    }\r\n\r\n    // 保存当前pvp排名\r\n    saveCurRank() {\r\n        this._oldPvpRank = Home.DataRank.MyRank;\r\n    }\r\n    // 是否升级\r\n    isRankUp() {\r\n        if (this._oldPvpRank > Home.DataRank.MyRank) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    // 保存当前段位\r\n    saveCurGrade() {\r\n        this._oldGrade = Home.DataPlayer.FortuneStar;\r\n    }\r\n    // 是否升级\r\n    isGradeUp() {\r\n        return false;\r\n        let oldGrade = calcHonorId(this._oldGrade);\r\n        let newGrade = calcHonorId(Home.DataPlayer.FortuneStar);\r\n        if (Home.DataRank.MyRank > 50) {\r\n            return false;\r\n        }\r\n        // 升级\r\n        if (oldGrade < newGrade) {\r\n            return true;\r\n        }\r\n        // 未变化\r\n        if (oldGrade == newGrade) {\r\n            return false;\r\n        }\r\n        // 降级\r\n        if (oldGrade > newGrade) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    ////////////////////原gamedata的内容////////////////////////////////////\r\n    public _stepSpawnPet: number = 0;\r\n    public gameBegan: boolean = null;\r\n    public gameOver: boolean = null;\r\n\r\n    public levelData = null;\r\n\r\n    public clear() {\r\n        this._myPetAllCnt = 0;\r\n        this._opponentBoardPetCnt = 0;\r\n        this._petAllCnt = 0;\r\n        this._petCnt = 0;\r\n        this._petSpawnCnt = 0;\r\n        this._petBeGrabedCnt = 0;\r\n        this._petGrabCnt = 0;\r\n        this._opponentPetAllCnt = 0;\r\n        this._waittingSpawnPetCount = 0;\r\n        this._waittingSpawnRocketCount = 0;\r\n        this._waittingSpawnStrongRocketCount = 0;\r\n        this._operateCount = 0;\r\n        this.isSpawnStrongRocket = false;\r\n        this.stepSpawnPet = 0;\r\n    }\r\n    ////////////////////////////////////////////////////////\r\n\r\n    initFreeNodes() {\r\n        this.clear();\r\n        delete this.freeBlocks;\r\n        delete this.freeBombs;\r\n        delete this.freeObstacles;\r\n        delete this.freeWalls;\r\n        delete this.freeEncourages;\r\n\r\n        this.freeBlocks = [];\r\n        this.freeBombs = [];\r\n        this.freeObstacles = [];\r\n        this.freeWalls = [];\r\n        this.freeEncourages = [];\r\n    }\r\n\r\n    public getBoardPetCnt() {\r\n        return this._petSpawnCnt - this._petCnt - this._petBeGrabedCnt;\r\n    }\r\n\r\n    public canSpawnPet(): boolean {\r\n        if (this.getBoardPetCnt() < 8 && this._waittingSpawnPetCount > 0) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public get stepSpawnPet() {\r\n        return this._stepSpawnPet;\r\n    }\r\n    public set stepSpawnPet(value) {\r\n        if (value >= 8) {\r\n            this._waittingSpawnPetCount++;\r\n            this._stepSpawnPet = 0;\r\n            return;\r\n        }\r\n        this._stepSpawnPet = value;\r\n    }\r\n\r\n    public get beginTime() {\r\n        return this._beginTime;\r\n    }\r\n    public set beginTime(value) {\r\n        this._beginTime = value;\r\n    }\r\n\r\n    freeBlocks = [];\r\n    freeBombs = [];\r\n    freeObstacles = [];\r\n    freeEncourages = [];\r\n    freeWalls = [];\r\n    popBlock(): cc.Node {\r\n        var nodBlock = null;\r\n        if (this.freeBlocks.length > 0) {\r\n            nodBlock = this.freeBlocks.pop();\r\n        } else {\r\n            nodBlock = cc.instantiate(this.pfbBlock);\r\n        }\r\n        nodBlock.active = true;\r\n        return nodBlock;\r\n    }\r\n    pushBlock(node: cc.Node) {\r\n        node.active = false;\r\n        node.x = 10000;\r\n        this.freeBlocks.push(node);\r\n    }\r\n    popBomb(): cc.Node {\r\n        var nodBomb = null;\r\n        if (this.freeBombs.length > 0) {\r\n            nodBomb = this.freeBombs.pop();\r\n        } else {\r\n            nodBomb = cc.instantiate(this.pfbBomb);\r\n        }\r\n        nodBomb.active = true;\r\n        return nodBomb;\r\n    }\r\n    pushBomb(node: cc.Node) {\r\n        node.active = false;\r\n        node.x = 10000;\r\n        this.freeBombs.push(node);\r\n    }\r\n    popObstacle(): cc.Node {\r\n        var nodObstacle = null;\r\n        if (this.freeObstacles.length > 0) {\r\n            nodObstacle = this.freeObstacles.pop();\r\n        } else {\r\n            nodObstacle = cc.instantiate(this.pfbObstacle);\r\n        }\r\n        nodObstacle.active = true;\r\n        return nodObstacle;\r\n    }\r\n    pushObstacle(node: cc.Node) {\r\n        node.active = false;\r\n        node.x = 10000;\r\n        this.freeObstacles.push(node);\r\n    }\r\n    popWall(): cc.Node {\r\n        var nodWall = null;\r\n        if (this.freeWalls.length > 0) {\r\n            nodWall = this.freeWalls.pop();\r\n        } else {\r\n            nodWall = cc.instantiate(this.pfbWall);\r\n        }\r\n        nodWall.active = true;\r\n        return nodWall;\r\n    }\r\n    pushWall(node: cc.Node) {\r\n        node.active = false;\r\n        node.x = 10000;\r\n        this.freeWalls.push(node);\r\n    }\r\n    popEncourage(): cc.Node {\r\n        var nodEncourage = null;\r\n        if (this.freeEncourages.length > 0) {\r\n            nodEncourage = this.freeEncourages.pop();\r\n        } else {\r\n            nodEncourage = cc.instantiate(this.pfbEncourage);\r\n        }\r\n        nodEncourage.active = true;\r\n        return nodEncourage;\r\n    }\r\n    pushEncourage(node: cc.Node) {\r\n        node.active = false;\r\n        node.x = 10000;\r\n        this.freeEncourages.push(node);\r\n    }\r\n}\r\n"]}