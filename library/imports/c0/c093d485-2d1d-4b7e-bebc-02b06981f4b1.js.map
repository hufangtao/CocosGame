{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\scripts\\app\\common/assets\\scripts\\app\\common\\UIFunc.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\scripts\\app\\common","sourcesContent":["export class UIFunc {\r\n    static openUI(uiName, callBack, node?) {\r\n        UIFuncHelper.theInstance.openUI(uiName, callBack, node);\r\n    }\r\n    static closeUI(uiName, callBack) {\r\n        UIFuncHelper.theInstance.closeUI(uiName, callBack);\r\n    }\r\n    static findUI(uiName) {\r\n        UIFuncHelper.theInstance.findUI(uiName);\r\n    }\r\n}\r\n\r\nclass UIFuncHelper {\r\n    public static get theInstance(): UIFuncHelper {\r\n        if (!UIFuncHelper.mInstance) {\r\n            UIFuncHelper.mInstance = new UIFuncHelper();\r\n        }\r\n        return UIFuncHelper.mInstance;\r\n    }\r\n    private static mInstance;\r\n\r\n    cacheUIList = [];\r\n    uiList = [];\r\n    openUI(uiName, callBack, node) {\r\n        // 缓存--\r\n        node = (node ? node : cc.Canvas.instance.node);\r\n        for (var i = 0; i < this.cacheUIList.length; i++) {\r\n            var temp = this.cacheUIList[i];\r\n            if (temp && temp.name === uiName) {\r\n                temp.active = true;\r\n                temp.parent = node;\r\n                this.uiList.push(temp)\r\n                this.cacheUIList.splice(i, 1);\r\n\r\n                var panel = temp.getComponent(\"uiPanel\");\r\n                if (panel) {\r\n                    panel.show();\r\n                }\r\n\r\n                // event--\r\n                if (callBack) {\r\n                    callBack(temp);\r\n                }\r\n                return;\r\n            }\r\n        }\r\n        // 非缓存--\r\n        cc.loader.loadRes('ui/' + uiName, (err, prefab) => {\r\n            if (err) {\r\n                cc.error(err.message || err);\r\n                return;\r\n            }\r\n\r\n            var temp = cc.instantiate(prefab);\r\n            temp.parent = node;\r\n            this.uiList.push(temp)\r\n\r\n            var panel = temp.getComponent(\"uiPanel\");\r\n            if (panel) {\r\n                panel.show();\r\n            }\r\n\r\n            // event--\r\n            if (callBack) {\r\n                callBack(temp);\r\n            }\r\n        });\r\n    }\r\n\r\n    closeUI(uiName, callBack) {\r\n        for (var i = this.uiList.length - 1; i >= 0; i--) {\r\n            var temp = this.uiList[i];\r\n            if (temp && temp.name === uiName) {\r\n                temp.active = false;\r\n                temp.removeFromParent(true);\r\n                this.cacheUIList.push(temp);\r\n                this.uiList.splice(i, 1);\r\n\r\n                var panel = temp.getComponent(\"uiPanel\");\r\n                if (panel) {\r\n                    panel.hide();\r\n                }\r\n\r\n                if (callBack) {\r\n                    callBack();\r\n                }\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\n    findUI(uiName) {\r\n        for (var i = this.uiList.length - 1; i >= 0; i--) {\r\n            var temp = this.uiList[i];\r\n            if (temp && temp.name === uiName) {\r\n                return temp;\r\n            }\r\n        }\r\n    }\r\n}"]}