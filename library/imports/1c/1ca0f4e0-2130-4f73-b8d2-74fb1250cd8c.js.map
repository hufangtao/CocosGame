{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\..\\..\\assets\\scripts\\app\\component\\game\\pve\\prefab/assets\\scripts\\app\\component\\game\\pve\\prefab\\ScoreMsg.ts"],"names":[],"mappings":";;;;;AAAA,2CAAsC;AAEhC,IAAA,kBAAqC,EAAnC,oBAAO,EAAE,sBAAQ,CAAmB;AAG5C;IAAsC,4BAAY;IADlD;QAAA,qEA2CC;QAvCU,cAAQ,GAAa,IAAI,CAAC;QAG1B,cAAQ,GAAa,IAAI,CAAC;QAE1B,eAAS,GAAa,IAAI,CAAC;;IAkCtC,CAAC;IAjCG,yBAAyB;IACzB,4CAA4C;IAErC,wBAAK,GAAZ;IACA,CAAC;IAEM,6BAAU,GAAjB,UAAkB,KAAK,EAAE,KAAa,EAAE,CAAC,EAAE,CAAC;QACxC,IAAI,KAAK,IAAI,CAAC,EAAE;YACZ,IAAI,CAAC,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;SACvC;aAAM;YACH,IAAI,CAAC,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC;SACtC;QACD,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,KAAK,GAAG,EAAE,CAAC;QAClC,IAAM,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC;QACrD,qFAAqF;QAErF,IAAI,CAAC,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC;QACxB,IAAI,OAAO,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC,GAAG,EAAE,CAAC;QACzC,IAAI,OAAO,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC,GAAG,EAAE,CAAC;QACzC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC,GAAG,OAAO,EACjD,EAAE,GAAG,CAAC,GAAG,EAAE,GAAG,OAAO,CAAC,CAAC;QAE3B,IAAM,KAAK,GAAG,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;QAChC,IAAM,MAAM,GAAG,EAAE,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAC3E,IAAM,OAAO,GAAG,EAAE,CAAC,QAAQ,CAAC;YACxB,kBAAQ,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACrC,CAAC,EAAE,IAAI,CAAC,CAAC;QACT,IAAM,UAAU,GAAG,EAAE,CAAC,QAAQ,CAAC,CAAC,KAAK,EAAE,MAAM,EAAE,OAAO,CAAC,CAAC,CAAC;QACzD,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;IACpC,CAAC;IAEM,4BAAS,GAAhB;IACA,CAAC;IAtCD;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;8CACc;IAGjC;QADC,QAAQ,CAAC,EAAE,IAAI,EAAE,EAAE,CAAC,KAAK,EAAE,CAAC;8CACI;IAEjC;QADC,QAAQ,CAAC,EAAE,IAAI,EAAE,EAAE,CAAC,KAAK,EAAE,CAAC;+CACK;IARjB,QAAQ;QAD5B,OAAO;OACa,QAAQ,CA0C5B;IAAD,eAAC;CA1CD,AA0CC,CA1CqC,EAAE,CAAC,SAAS,GA0CjD;kBA1CoB,QAAQ","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\..\\..\\assets\\scripts\\app\\component\\game\\pve\\prefab","sourcesContent":["import NodePool from \"../../NodePool\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class ScoreMsg extends cc.Component {\r\n\r\n    @property(cc.Label)\r\n    public labScore: cc.Label = null;\r\n\r\n    @property({ type: cc.Asset })\r\n    public font_red: cc.Asset = null;\r\n    @property({ type: cc.Asset })\r\n    public font_blue: cc.Asset = null;\r\n    //   @property(cc.Sprite)\r\n    //   public imgBackground: cc.Sprite = null;\r\n\r\n    public start() {\r\n    }\r\n\r\n    public setMessage(count, score: number, x, y) {\r\n        if (count <= 6) {\r\n            this.labScore.font = this.font_blue;\r\n        } else {\r\n            this.labScore.font = this.font_red;\r\n        }\r\n        this.labScore.string = score + '';\r\n        const textSize = this.labScore.node.getContentSize();\r\n        // this.imgBackground.node.setContentSize(textSize.width + 70, textSize.height + 40);\r\n\r\n        this.node.opacity = 255;\r\n        let offestX = (Math.random() - 0.5) * 20;\r\n        let offestY = (Math.random() - 0.5) * 20;\r\n        this.node.setPosition(80 * (x - 4) + 80 / 2 + offestX,\r\n            80 * y + 80 + offestY);\r\n\r\n        const delay = cc.delayTime(0.2);\r\n        const action = cc.spawn([cc.moveBy(1.3, cc.v2(0, 70)), cc.fadeTo(1.3, 0)]);\r\n        const recycle = cc.callFunc(function () {\r\n            NodePool.putNodeScore(this.node);\r\n        }, this);\r\n        const seqActions = cc.sequence([delay, action, recycle]);\r\n        this.node.runAction(seqActions);\r\n    }\r\n\r\n    public onDestroy() {\r\n    }\r\n}\r\n"]}