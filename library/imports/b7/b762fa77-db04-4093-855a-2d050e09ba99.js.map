{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\..\\assets\\scripts\\app\\component\\page\\home/assets\\scripts\\app\\component\\page\\home\\HomeModule.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\..\\assets\\scripts\\app\\component\\page\\home","sourcesContent":["import BaseModule from \"../../../module/BaseModule\";\r\nimport DataPlayer from \"../../../module/data/mod/DataPlayer\";\r\nimport DataRoom from \"../../../module/data/mod/DataRoom\";\r\nimport DataRank, {PveDataRank} from \"../../../module/data/mod/DataRank\";\r\nimport PlayerNetHandler from \"./PlayerNetHandler\";\r\nimport {PPlayer} from \"../../../common/net/proto/ProtoType\";\r\nimport RoomNetHandler from \"./RoomNetHandler\";\r\nimport {OpenHomeFrom} from \"../../../common/Defines\";\r\nimport DebugNetHandler from \"./DebugNetHandler\";\r\n\r\nexport default class HomeModule extends BaseModule {\r\n    private static MODULE_NAME: string = \"home\";\r\n\r\n    private dataPlayer: DataPlayer;\r\n    private dataRoom: DataRoom;\r\n    private dataRank: DataRank;     // xlchen add 排行榜\r\n    private pveRank;\r\n\r\n    private openHomeFrom: OpenHomeFrom;\r\n\r\n    private protoPlayerHandler: PlayerNetHandler;\r\n    private protoRoomHandler: RoomNetHandler;\r\n    private protoDebugHandler: DebugNetHandler;\r\n\r\n    private timeOffset = 0;\r\n\r\n    constructor() {\r\n        super(HomeModule.MODULE_NAME);\r\n    }\r\n\r\n    public onCreated() {\r\n        this.dataPlayer = new DataPlayer();\r\n        this.dataRoom = new DataRoom();\r\n        this.dataRank = new DataRank();\r\n        this.pveRank  = null;\r\n        this.protoPlayerHandler = new PlayerNetHandler();\r\n        this.protoRoomHandler = new RoomNetHandler();\r\n        this.protoDebugHandler = new DebugNetHandler();\r\n    }\r\n\r\n    public get TimeOffset(): number {\r\n        return this.timeOffset;\r\n    }\r\n\r\n    public set TimeOffset(value: number) {\r\n        this.timeOffset = value;\r\n    }\r\n\r\n    public resetHome() {\r\n        this.dataRoom = new DataRoom();\r\n    }\r\n\r\n    public get DataPlayer(): DataPlayer {\r\n        return this.dataPlayer;\r\n    }\r\n\r\n    public get OpenHomeFrom(): OpenHomeFrom {\r\n        return this.openHomeFrom;\r\n    }\r\n\r\n    public set OpenHomeFrom(from: OpenHomeFrom) {\r\n        this.openHomeFrom = from;\r\n    }\r\n\r\n    public get PlayerName(): string {\r\n        return this.dataPlayer.MyName;\r\n    }\r\n\r\n    public get PlayerId(): number {\r\n        return this.dataPlayer.MyId;\r\n    }\r\n\r\n    public get PlayerHeadUrl(): string {\r\n        return this.dataPlayer.MyHeadUrl;\r\n    }\r\n\r\n    public get OpponentId(): number {\r\n        return this.dataRoom.OpponentId;\r\n    }\r\n\r\n    public get OpponentName(): string {\r\n        return this.dataRoom.OpponentName;\r\n    }\r\n\r\n    public get OpponentHeadUrl(): string {\r\n        return this.dataRoom.OpponentHeadUrl;\r\n    }\r\n\r\n    // xlchen add\r\n    public get OpponentSex(): number {\r\n        return this.dataRoom.OpponentSex;\r\n    }\r\n\r\n    public get DataRoom(): DataRoom {\r\n        return this.dataRoom;\r\n    }\r\n\r\n    public set MyPlayerInfo(value: PPlayer) {\r\n        this.dataPlayer.MyPlayer = value;\r\n    }\r\n\r\n    public get PlayerSex(): number {\r\n        return this.dataPlayer.MySex;\r\n    }\r\n\r\n    // xlchen add\r\n    public get DataRank(): DataRank {\r\n        return this.dataRank;\r\n    }\r\n\r\n    public set DataRank(data: DataRank) {\r\n        this.dataRank = data;\r\n    }\r\n\r\n    public get PveRank() {\r\n        return this.pveRank;\r\n    }\r\n\r\n    public set PveRank(value) {\r\n        this.pveRank = value;\r\n    }\r\n}\r\n"]}