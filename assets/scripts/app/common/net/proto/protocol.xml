<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="style.xsl"?>
<!-- c2s 客户端到服务器请求 -->
<!-- s2c 服务器客到户端推送 -->
<protocol>
    <error desc="错误码描述">
        <code id="0" name="E_OK" desc="成功" />
        <code id="1" name="E_UNKNOWN" desc="未知错误" />
        <code id="2" name="E_ROOM_FULL" desc="房间已满" />
        <code id="3" name="E_ROOM_NEXIST" desc="房间不存在" />
        <code id="4" name="E_WX_RELOGIN" desc="需要微信重新登陆授权" />
        <code id="5" name="E_FAILED" desc="失败" />
        <!-- 系统错误 -->
        <code id="1000" name="E_SYSTEM" desc="系统错误" />
        <code id="1001" name="E_DB" desc="数据库错误" />
        <code id="1002" name="E_MNESIA" desc="mnesia数据库错误" />
        <code id="1003" name="E_NEXIST" desc="对象不存在" />
        <code id="1004" name="E_BADARG" desc="参数错误" />
        <code id="1005" name="E_ACCESS" desc="没有权限访问" />
        <code id="1006" name="E_TRAFFIC_BYTE_LIMIT" desc="玩家数据流量超过限制" />
        <code id="1007" name="E_TRAFFIC_PACKET_LIMIT" desc="玩家数据包超过限制" />
        <code id="1008" name="E_CALL_TIMEOUT" desc="请求超时" />
        <code id="1009" name="E_CENTER_DISCONNECTED" desc="跨服服务暂不可用" />
        <!-- 玩家问题 -->
        <code id="1100" name="E_AUTH" desc="认证失败" />
        <code id="1101" name="E_MAINTAIN" desc="维护状态" />
        <code id="1102" name="E_RE_LOGIN" desc="需要重新登陆" />
        <code id="1103" name="E_TIME_INVAL" desc="时间不合法" />
        <code id="1104" name="E_CHEAT" desc="玩家作弊" />
        <code id="1105" name="E_UGC_INVALID" desc="内容包含非法信息或长度不合适" />
        <code id="1106" name="E_NAME_EXIST" desc="名称已存在" />
        <code id="1107" name="E_SEX_INVAL" desc="性别不合法" />
        <code id="1108" name="E_PLAYER_NEXIST" desc="玩家不存在" />
        <!-- 广义财富不足 -->
        <code id="1200" name="E_CARD_LACK" desc="房卡不足" />
        <code id="1201" name="E_GOLD_LACK" desc="金币不足" />
        <code id="1202" name="E_EXP_LACK" desc="经验不足" />
        <code id="1203" name="E_SCORE_LACK" desc="积分不足" />
        <code id="1204" name="E_MATERIAL_LACK" desc="材料不足" />
        <code id="1205" name="E_VIP_LVL" desc="VIP等级不足" />
        <code id="1206" name="E_PLAYER_LVL" desc="玩家等级不符" />
        <code id="1207" name="E_CD" desc="cd时间非法" />
        <code id="1208" name="E_TIMES_LIMIT" desc="次数不足" />
        <code id="1209" name="E_BUY_TIMES_LIMIT" desc="购买次数不足" />
        <code id="1210" name="E_LIMIT_EXCHANGE_RED_PAPER" desc="红包已兑完" />
        <!-- 已达上限 -->
        <code id="1300" name="E_LVL_FULL" desc="玩家满级" />
        <code id="1301" name="E_SILVER_MAX" desc="铜钱到达上限" />
        <code id="1302" name="E_GOLD_MAX" desc="金币到达上限" />
        <code id="1303" name="E_COUPON_MAX" desc="代金劵到达上限" />
        <code id="1304" name="E_BAG_COUNT_LIMIT" desc="背包可拓展格数已达上限" />
        <code id="1305" name="E_REACH_MAX" desc="已达上限"/>
        <!-- 状态问题 -->
        <code id="1400" name="E_NOT_OPEN" desc="未开启" />
        <code id="1401" name="E_NOT_ACTIVATED" desc="未激活" />
        <code id="1402" name="E_NOT_FULLFILLING" desc="未完成" />
        <code id="1403" name="E_NOT_PASSED" desc="未通过" />
        <code id="1404" name="E_DOING" desc="进行中" />
        <code id="1405" name="E_DONE" desc="已完成" />
        <code id="1406" name="E_GOT" desc="已领取" />
        <code id="1407" name="E_GOT_BY_OTHERS" desc="已被其他玩家领取" />
        <!-- 前提问题 -->
        <code id="1500" name="E_CONDITION" desc="条件不满足" />
        <code id="1501" name="E_DEADLINE" desc="已过期" />
        <code id="1502" name="E_NO_REQUIRE_TARGET" desc="没有符合条件的目标" />
        <code id="1503" name="E_TARGET_NEXIST" desc="对应目标不存在" />
        <code id="1504" name="E_TARGET_ARRIVED" desc="对应目标已达成, 无须重复操作" />
        <!-- 交互问题 -->
        <code id="1600" name="E_SELF" desc="不能对自己执行该操作" />
        <code id="1601" name="E_PLAYER_OFFLINE" desc="玩家不存在或者离线" />
        <code id="1602" name="E_NOT_INVITED" desc="未收到邀请"/>
        <!-- 活动 -->
        <code id="1700" name="E_ACTIVITY_NOTOPEN" desc="活动未开启" />
        <code id="1701" name="E_ACTIVITY_ENDED" desc="活动已结束" />
        <!-- 地图 -->
        <code id="1800" name="E_MAP_NEXIST" desc="副本已结束" />
        <code id="1801" name="E_MAP_FULL" desc="地图已满" />
        <code id="1802" name="E_MAP_ALREADY_IN" desc="已在地图内" />
        <code id="1803" name="E_MAP_ALL_FULL" desc="所有地图均人满" />
        <code id="1804" name="E_MAP_NO_ROOM" desc="没有房间" />
        <code id="1805" name="E_MAP_NOT_IN" desc="不在副本内" />
        <code id="1806" name="E_MAP_BLOCK" desc="目标位置不可到达" />
        <!-- 背包和物品 -->
        <code id="1900" name="E_BAG_FULL" desc="背包已满" />
        <code id="1901" name="E_GOODS_NEXIST" desc="物品不存在" />
        <code id="1902" name="E_GOODS_USE" desc="物品不可使用" />
        <code id="1903" name="E_GOODS_NOT_SUPPORT" desc="物品类型不支持" />
        <code id="1904" name="E_GOODS_TYPE" desc="物品类型不符" />
        <code id="1905" name="E_GOODS_CD" desc="物品正在冷却" />
        <code id="1906" name="E_GOODS_NENOUGH" desc="物品数量不足" />
        <!-- 玩法 -->
        <code id="2000" name="E_ROOM_PLAYING" desc="当前已在房间中" />
        <code id="2001" name="E_ROOM_INNING_START" desc="牌局已经开始" />
        <code id="2002" name="E_NOT_PAID" desc="尚未首充" />
        <code id="2003" name="E_LOTTERY_ENDED" desc="本期夺宝活动已结束" />
        <code id="2004" name="E_ROOM_OWNER_LEAVE" desc="房间主人已经离开" />
        <!-- 收货地址 -->
        <code id="2100" name="E_ADDRESS_NAME"   desc="姓名不能为空" />
        <code id="2101" name="E_ADDRESS_PHONE"  desc="必须11位号码" />
        <code id="2102" name="E_ADDRESS_STREET" desc="地址不正确" />
    </error>

    <types desc="全局自定义类型列表">
        <type name="p_player" desc="玩家信息">
            <f t="uint64" name="id" desc="玩家id"/>
            <f t="string" name="name" desc="名称"/>
            <f t="uint8"  name="sex" desc="性别"/>
            <f t="string" name="head_img" desc="头像地址"/>
            <f t="uint64"  name="score" desc="最高分"/>
            <f t="uint32"  name="win" desc="连胜次数"/>
            <f t="string"  name="nowsec" desc="now sec"/>
            <f t="string"  name="energy_full_time" desc="energy full time: 0->full sectime->time of energy full"/>
        </type>
        <type name="p_activity" desc="活动信息">
            <f t="uint8" name="actid" desc="活动id" />
            <f t="uint8" name="status" desc="0未开启 1本次活动已终止 2活动初始阶段 3准备阶段 4..." />
            <f t="uint32" name="secs_left" desc="剩余秒数" />
        </type>
        <type name="p_wealth" desc="财富">
            <f t="uint8" name="type" desc="财富类型"/>
            <f t="uint32" name="value" desc="财富数量"/>
        </type>
        <type name="p_goods" desc="物品信息">
            <f t="uint32" name="goods_id" desc="物品id"/>
            <f t="uint32" name="goods_num" desc="物品数量"/>
        </type>
        <type name="p_sign_slot" desc="签到格">
            <f t="uint8" name="slot" desc="签到格，对应周几"/>
            <f t="uint8" name="signed" desc="是否签到"/>
            <loop t="p_goods" name="reward" desc="签到奖励"/>
        </type>
        <type name="p_exchange_list" desc="兑换商品">
            <f t="uint32" name="id" desc="兑换Id"/>
            <f t="uint32" name="price" desc="兑换价格"/>
        </type>
        <type name="p_turntable_record" desc="中奖记录">
            <f t="uint32" name="turntable_id" desc="转盘Id"/>
            <f t="string" name="player_name" desc="中奖玩家名字"/>
            <f t="uint32" name="time" desc="中奖时间"/>
        </type>
        <type name="p_playmate" desc="房间玩伴">
            <f t="uint64"  name="id" desc="玩家id"/>
            <f t="string"  name="name" desc="名称"/>
            <f t="string"  name="head_img" desc="头像地址"/>
            <f t="uint8"   name="sex" desc="性别"/>
            <f t="uint32"  name="star" desc="星数"/>
        </type>
        <type name="p_play_stat" desc="比赛统计">
            <f t="uint32"  name="cnt_total" desc="比赛的局数"/>
            <f t="uint32"  name="cnt_win" desc="胜利的局数"/>
            <f t="uint32"  name="match_once" desc="最多匹配个数"/>
            <f t="uint32"  name="save_once" desc="单局最多拯救动物"/>
            <f t="uint32"  name="pve_win" desc="pve win"/>
            <f t="uint32"  name="pve_total" desc="pve total"/>
            <f t="uint32"  name="pvp_win_oneweek" desc="pvp win oneweek"/>
            <f t="uint32"  name="pvp_total_oneweek" desc="pvp total oneweek"/>
            <f t="uint32"  name="max_successive_win" desc="max successive win"/>
            <f t="uint32"  name="level" desc="level"/>
            <f t="uint32"  name="guide" desc="guide"/>
        </type>
        <type name="p_pve_stat" desc="pve比赛统计">
            <f t="uint32"  name="level" desc="level"/>
            <f t="uint32"  name="score" desc="score"/>
        </type>
        <type name="p_star_rank" desc="排行榜上的玩家">
            <f t="uint64"  name="id" desc="玩家id"/>
            <f t="string"  name="name" desc="名称"/>
            <f t="string"  name="head_img" desc="头像地址"/>
            <f t="uint8"   name="sex" desc="性别"/>
            <f t="uint32"  name="star" desc="星数"/>
            <f t="uint32"  name="rate_of_win" desc="rate of win"/>
        </type>
        <type name="p_pve_rank" desc="player on pve rank">
            <f t="uint64"  name="id"    desc="player id"/>
            <f t="string"  name="name"  desc="player name"/>
            <f t="string"  name="head_img" desc="head img"/>
            <f t="uint8"   name="sex"      desc="sex"/>
            <f t="uint32"  name="score"    desc="pve score"/>
        </type>
        <type name="p_task" desc="任务">
            <f t="uint32" name="id" desc="任务Id"/>
            <f t="uint32" name="progress" desc="进度值"/>
            <f t="uint8" name="status" desc="1已接 2已领奖"/>
        </type>
        <type name="p_playmate_score" desc="房间玩伴">
            <f t="uint64" name="id" desc="玩家id"/>
            <f t="uint32" name="score" desc="比赛得分"/>
        </type>
        <type name="p_baby_pos" desc="娃娃的静止状态">
            <f t="uint32" name="round_id" desc="回合Id"/>
            <f t="string" name="x" desc="x位置"/>
            <f t="string" name="angle" desc="角度"/>
            <f t="string" name="y" desc="y位置"/>
        </type>
    </types>

    <section id="9" name="debug" desc="debug信息">
        <msg id="0" name="error" desc="协议错误码" >
            <s2c>
                <f t="uint16" name="msgid" desc="协议Id" />
                <f t="uint16" name="code" desc="错误码" />
            </s2c>
        </msg>
    </section>

    <section id="10" name="acc" desc="账户信息">
        <msg id="0" name="login" desc="用户登录" >
            <c2s>
                <f t="string" name="platform" desc="平台名字"/>
                <f t="string" name="game_account_id" desc="游戏的账号Id" />
                <f t="string" name="game_account_sign" desc="游戏的账号Id的签名" />
                <f t="string" name="channel_open_id" desc= "渠道的用户id"/>
                <f t="string" name="channel_param" desc="渠道其他参数"/>
            </c2s>
            <s2c>
                <f t="uint16" name="code" desc="错误码(0成功，其他:失败错误码)" />
                <f t="uint64" name="id" desc="角色id" />
                <f t="string" name="channel_open_id" desc= "运营平台的用户id"/>
                <f t="string" name="game_account_id" desc="游戏的账号Id" />
                <f t="string" name="game_account_sign" desc="游戏的账号Id的签名" />
                <f t="string" name="game_login_key" desc="登陆key 用于重登陆时发送" />
            </s2c>
        </msg>
        <msg id="2" name="create" desc="创建角色" >
            <c2s>
            </c2s>
            <s2c>
                <f t ="uint16" name="code" desc="错误码" />
                <f t ="uint64" name="id" desc="角色id"/>
            </s2c>
        </msg>
        <msg id="3" name="create_with_params" desc="创建角色" >
            <c2s>
                <f t="uint8"   name="head"   desc="头像Id" />
                <f t="uint8"   name="sex"    desc="性别" />
                <f t="string"  name="name"   desc="角色名字" />
                <f t="string"  name="params" desc="Json字符串" />
            </c2s>
        </msg>
        <msg id="4" name="enter" desc="角色进入游戏" >
            <c2s>
                <f t ="uint64" name="id" desc="角色id"/>
            </c2s>
            <s2c>
                <f t="uint16"  name="code" desc="错误码" />
            </s2c>
        </msg>
        <msg id="5" name="kick_offline" desc="玩家被踢下线" >
            <s2c>
                <f t="string"  name="content" desc="提示信息" />
            </s2c>
        </msg>
        <msg id="6" name="relogin" desc="断线重新登陆">
            <c2s>
                <f t="string" name="login_key" desc="登陆时返回的登陆key"/>
                <f t="string" name="open_id" desc="平台的用户id"/>
                <f t="uint64" name="id" desc="玩家Id"/>
            </c2s>
            <s2c>
                <f t="uint16" name="code" desc="错误码(0成功,1失败)"/>
            </s2c>
        </msg>
        <msg id="7" name="servertime" desc="获取服务器时间">
            <c2s/>
            <s2c>
                <f t="uint32" name="time" desc="服务器时间"/>
            </s2c>
        </msg>
        <msg id="10" name="ban" desc="账号被禁" >
            <s2c>
                <f t="uint8"  name="reason" desc="原因 1:账号 2:IP" />
                <f t="uint32" name="end_time" desc="结束时间戳" />
            </s2c>
        </msg>
        <msg id="11" name="maintain" desc="服务器维护" >
            <s2c>
                <f t="uint16" name="state" desc="状态码1 维护中" />
                <f t="string" name="desc" desc="描述" />
            </s2c>
        </msg>
    </section>

    <section id="11" name="player" desc="玩家信息">
        <msg id="0" name="self_info" desc="通知个人主角信息">
            <s2c>
                <f t="p_player" name="player" desc="玩家信息"/>
            </s2c>
        </msg>
        <msg id="1" name="fortune" desc="玩家财富更新">
            <s2c>
                <f t="uint8" name="type" desc="财富类型1:金币 2:积分 3:星数 4:energy" />
                <f t="uint32" name="val" desc="财富数值" />
            </s2c>
        </msg>
        <msg id="2" name="play_stat" desc="比赛统计">
            <s2c>
                <f t="p_play_stat" name="stat" desc="比赛统计" />
            </s2c>
        </msg>
        <msg id="3" name="share_game" encrypt="true" desc="通知服务器进行了分享游戏的操作">
            <c2s>
                <f t="uint32" name="reason" desc="原因 1获取体力 2任务 3道具 4金币 5pve" />
            </c2s>
            <s2c>
                <f t="uint32" name="reason" desc="原因"/>
                <f t="uint32" name="success" desc="增长体力是否成功, 0 失败, 1 成功"/>
                <f t="uint32" name="times" desc="已经分享的次数"/>
            </s2c>
        </msg>
        <msg id="4" name="pve_stat" desc="pve比赛统计">
            <s2c>
                <loop t="p_pve_stat" name="pvestat" desc="pve比赛统计" />
            </s2c>
        </msg>
        <msg id="5" name="click" desc="data point">
            <c2s>
                <f t="uint32" name="point" desc="data point"/>
            </c2s>
        </msg>
        <msg id="6" name="watch_ad" desc="玩家观看广告">
            <c2s>
                <f t="uint8" name="reason" desc="看广告原因，1为pvp道具, 2为pve, 3为金币"/>
            </c2s>
        </msg>
        <msg id="7" name="double" desc="双倍金币">
            <c2s>
                <f t="uint8" name="reason" desc="双倍的东西， 1为结算金币 2为签到金币"/>
            </c2s>
        </msg>
        <msg id="31" name="daily_cleared" desc="一天已过,数据已清" >
            <s2c/>
        </msg>
        <msg id="61" name="commit_address" encrypt="true" desc="提交收货地址">
            <c2s>
                <f t="string" name="name"   desc="名字" />
                <f t="string" name="phone"  desc="电话号码" />
                <f t="string" name="street" desc="街道" />
            </c2s>
            <s2c>
            </s2c>
        </msg>
        <msg id="62" name="address" desc="获取收货地址">
            <c2s>
            </c2s>
            <s2c>
                <f t="string" name="name"   desc="名字" />
                <f t="string" name="phone"  desc="电话号码" />
                <f t="string" name="street" desc="街道" />
            </s2c>
        </msg>
        <msg id="63" name="gm_add_fortune" desc="GM协议 修改玩家财富">
            <c2s>
                <f t="uint8" name="increase" desc="增加或者减少， 0代表减少，1代表增加"/>
                <f t="uint8" name="type" desc="财富类型1:金币 2:积分 3:星数 4:energy"/>
                <f t="uint32" name="num" desc="财富变化值"/>
            </c2s>
        </msg>
    </section>
    <section id="12" name="room" desc="房间相关">
        <msg id="0" name="match_request" desc="匹配">
            <c2s>
                <f t="uint8" name="room_type" desc="场次类型，从1开始依次,1、2、3、4..."/>
            </c2s>
            <s2c>
            </s2c>
        </msg>
        <msg id="1" name="invite_request" desc="邀请">
            <c2s>
            </c2s>
            <s2c>
                <f t="string" name="invitee_param" desc="邀请参数"/>
            </s2c>
        </msg>
        <msg id="2" name="invite_timeout" desc="邀请超时">
            <s2c>
                <f t="uint32" name="room_id" desc="房间Id"/>
            </s2c>
        </msg>
        <msg id="3" name="play_with" desc="和指定玩家比赛">
            <c2s>
                <f t="string" name="invitee_param" desc="邀请参数"/>
            </c2s>
            <s2c>
                <f t="uint32" name="room_id" desc="房间Id 0表示房间关闭"/>
            </s2c>
        </msg>
        <msg id="4" name="play_create" desc="房间创建">
            <s2c>
                <f t="uint32" name="room_id"    desc="房间Id"/>
                <f t="uint8"  name="room_type"  desc="房间类型 1邀请 2匹配"/>
                <f t="uint64" name="room_owner" desc="房主玩家Id 匹配模式下为0"/>
                <f t="uint64" name="red_id"     desc="红方玩家Id"/>
                <f t="uint64" name="blu_id"     desc="蓝方玩家Id"/>
                <loop t="p_playmate" name="playmates" desc="双方的信息"/>
            </s2c>
        </msg>
        <msg id="5" name="play_confirm" desc="确认要开始或者确认再来一局">
            <c2s>
            </c2s>
            <s2c>
                <loop t="uint64" name="confirm_list" desc="已经确认列表"/>
            </s2c>
        </msg>
        <msg id="6" name="play_start" desc="匹配成功房间开始对战">
            <s2c>
                <f t="uint32" name="room_id" desc="房间Id"/>
            </s2c>
        </msg>
        <msg id="7" name="ready_timeout" desc="玩家准备时间超时">
            <s2c></s2c>
        </msg>
        <msg id="10" name="play_finish" desc="比赛结束">
            <s2c>
                <f t="uint32" name="room_id" desc="房间Id"/>
                <f t="uint8"  name="win_side" desc="0平局 1红方 2蓝方"/>
                <f t="uint64" name="win_playmate_id" desc="胜利方Id"/>
                <f t="uint32" name="save_animal_count" desc="收集物品个数"/>
                <f t="uint32" name="score" desc="积分变换的数值"/>
                <f t="uint32" name="win_score" desc="连胜获得的积分"/>
                <f t="uint32" name="win_count" desc="连胜次数"/>
                <f t="uint32" name="daily_win" desc="日胜次数"/>
                <f t="uint32" name="daily_cnt" desc="日匹配次数"/>
                <f t="uint32" name="weekly_win" desc="周胜次数"/>
                <f t="uint32" name="weekly_cnt" desc="周匹配次数"/>
                <f t="uint8"  name="show_continue"  desc="是否显示再来一局 0不显示"/>
                <f t="uint32" name="active_buff_count" desc="对手使用buff的数量"/>
            </s2c>
        </msg>
        <msg id="11" name="opponent_leave" desc="对手离开">
            <s2c>
                <f t="uint64" name="opponent_id" desc="对手的玩家Id"/>
            </s2c>
        </msg>
        <msg id="12" name="inviter" desc="请求邀请者的信息">
            <c2s>
                <f t="string" name="inviter_param" desc="邀请参数"/>
            </c2s>
            <s2c>
                <f t="string" name="inviter_param" desc="对方信息"/>
                <f t="p_playmate" name="playmate" desc="对方信息"/>
            </s2c>
        </msg>
        <msg id="14" name="invisible" desc="使自己不可见 不会被匹配 离开房间">
            <c2s>
            </c2s>
            <s2c>
            </s2c>
        </msg>
        <msg id="15" name="match_timeout" desc="match timeout">
            <s2c>
            </s2c>
        </msg>
    </section>
    <section id="13" name="activity" desc="活动信息">
        <msg id="1" name="list" desc="查询当前所有开启的活动信息" >
            <c2s />
            <s2c>
                <loop t="p_activity" name="list" desc="活动信息列表" />
            </s2c>
        </msg>
        <msg id="2" name="info" desc="查询某个活动的状态(状态变化时推送)" >
            <c2s>
                <f t="uint8" name="actid" desc="活动id" />
            </c2s>
            <s2c>
                <f t="p_activity" name="val" desc="活动状态" />
            </s2c>
        </msg>
    </section>
    <section id="14" name="chat" desc="聊天相关">
        <msg id="1" name="common_language" desc="使用常用语" >
            <c2s>
                <f t="uint32" name="id" desc="常用语Id" />
            </c2s>
            <s2c>
                <f t="uint64" name="player_id" desc="发言的玩家Id" />
                <f t="uint32" name="id" desc="常用语Id" />
            </s2c>
        </msg>
        <msg id="2" name="face" desc="使用表情" >
            <c2s>
                <f t="string" name="content" desc="表情字符串Id"/>
            </c2s>
            <s2c>
                <f t="uint64" name="player_id" desc="发言的玩家Id" />
                <f t="string" name="content" desc="表情字符串Id" />
            </s2c>
        </msg>
        <msg id="3" name="text" desc="文本内容" >
            <c2s>
                <f t="string" name="content" desc="聊天内容"/>
            </c2s>
            <s2c>
                <f t="uint64" name="player_id" desc="发言的玩家Id" />
                <f t="string" name="content" desc="聊天内容" />
            </s2c>
        </msg>
        <msg id="4" name="voice" desc="语音内容" >
            <c2s>
                <f t="string" name="content" desc="聊天内容"/>
            </c2s>
            <s2c>
                <f t="uint64" name="player_id" desc="发言的玩家Id" />
                <f t="string" name="content" desc="聊天内容" />
            </s2c>
        </msg>
        <msg id="5" name="notice" desc="系统公告" >
            <s2c>
                <f t="string" name="content" desc="公告内容" />
            </s2c>
        </msg>
    </section>
    <section id="15" name="goods" desc="物品">
        <msg id="0" name="pull" desc="拉取当前拥有的所有物品">
            <c2s>
            </c2s>
            <s2c>
                <loop t="p_goods" name="goods_list" desc="物品列表" />
            </s2c>
        </msg>
        <msg id="1" name="update" desc="物品更新">
            <s2c>
                <loop t="p_goods" name="goods_list" desc="物品列表" />
            </s2c>
        </msg>
        <msg id="31" name="exchange" desc="积分兑换">
            <c2s>
                <f t="uint32" name="id" desc="兑换的Id" />
            </c2s>
            <s2c>
                <f t="uint32" name="id" desc="兑换的Id" />
                <loop t="p_goods" name="goods_list" desc="物品列表(仅用于显示)" />
            </s2c>
        </msg>
        <msg id="32" name="exchange_remain" desc="兑换列表">
            <c2s>
            </c2s>
            <s2c>
                <loop t="p_exchange_list" name="exchange_list" desc="兑换列表" />
            </s2c>
        </msg>
        <msg id="51" name="turntable_run" desc="转动积分转盘">
            <c2s>
            </c2s>
            <s2c>
                <f t="uint32" name="id" desc="转到的Id" />
                <loop t="p_goods" name="goods_list" desc="物品列表(仅用于显示)" />
            </s2c>
        </msg>
        <msg id="52" name="turntable_record_pull" desc="拉取转盘中奖记录列表">
            <c2s>
            </c2s>
            <s2c>
                <loop t="p_turntable_record" name="record_list" desc="中奖记录列表" />
            </s2c>
        </msg>
        <msg id="53" name="turntable_record_new" desc="新的中奖记录">
            <s2c>
                <f t="p_turntable_record" name="record" desc="中奖记录" />
            </s2c>
        </msg>
    </section>
    <section id="16" name="task" desc="任务">
        <msg id="1" name="list" desc="当前任务列表">
            <c2s>
            </c2s>
            <s2c>
                <loop t="p_task" name="task" desc="任务列表"/>
            </s2c>
        </msg>
        <msg id="2" name="update" desc="任务更新">
            <s2c>
                <loop t="p_task" name="task" desc="任务列表"/>
            </s2c>
        </msg>
        <msg id="3" name="gain_award" desc="领奖">
            <c2s>
                <f t="uint32" name="id" desc="任务Id"/>
            </c2s>
            <s2c>
            </s2c>
        </msg>
    </section>
    <section id="17" name="award" desc="奖励相关">
    </section>
    <section id="18" name="payment" desc="充值相关">
    </section>
    <section id="19" name="rank" desc="排行榜相关">
        <msg id="1" name="play_star" desc="星数榜" >
            <c2s>
                <f t="uint32" name="pos_start" desc="起始" />
                <f t="uint32" name="pos_end" desc="结束" />
            </c2s>
            <s2c>
                <f t="uint32" name="my_pos" desc="我的榜位" />
                <loop t="p_star_rank" name="playmates" desc="玩家排行列表(已经排序)" />
            </s2c>
        </msg>
        <msg id="2" name="pve_rank" desc="pve rank">
            <c2s>
                <f t="uint32" name="level" desc="pve level"/>
                <f t="uint32" name="pos_start" desc="start"/>
                <f t="uint32" name="pos_end"   desc="end"/>
            </c2s>
            <s2c>
                <f t="uint32" name="level" desc="level"/>
                <f t="uint32" name="my_pos" desc="my pos"/>
                <loop t="p_pve_rank" name="playmates" desc="ordered rank"/>
            </s2c>
        </msg>
    </section>
    <section id="20" name="play" desc="玩法相关">
        <msg id="0" name="ready" encrypt="true" desc="已经准备好了">
            <c2s>
                <f t="uint32" name="room_id" desc="房间Id"/>
            </c2s>
            <s2c>
                <f t="uint32" name="room_id" desc="房间Id"/>
            </s2c>
        </msg>
        <msg id="1" name="new_round" desc="新的回合" >
            <s2c>
                <f t="uint64" name="playmate_id" desc="该回合对应的玩家"/>
                <f t="uint32" name="round_id"    desc="回合Id"/>
                <f t="uint32" name="round_deadline"   desc="回合操作限时"/>
            </s2c>
        </msg>
        <msg id="2" name="save_animal" desc="收集物品" >
            <c2s>
            </c2s>
            <s2c>
                <f t="uint32" name="save_count"  desc="收集的个数" />
                <f t="uint8"  name="animal_side" desc="阵营 1红方,2蓝方"/>
            </s2c>
        </msg>
        <msg id="3" name="gen_block" desc="生成障碍物" >
            <s2c>
                <f t="uint8" name="gen_side" desc="生成的是哪一方" />
                <f t="uint8" name="row" desc="在哪一行生成"/>
            </s2c>
        </msg>
        <msg id="4" name="continue" encrypt="true" desc="继续下一局">
            <c2s>
            </c2s>
            <s2c>
                <f t="uint32" name="room_id" desc="房间Id"/>
                <loop t="uint64" name="continue_list" desc="继续的玩家列表"/>
            </s2c>
        </msg>
        <msg id="5" name="give_up" encrypt="true" desc="认输">
            <c2s>
            </c2s>
        </msg>
        <msg id="6" name="new_phase" desc="新的游戏阶段" >
            <s2c>
                <f t="uint8" name="phase_id" desc="阶段Id, 1、20s三色 2、40s四色 3、60s五色"/>
                <f t="uint32" name="phase_deadline"  desc="阶段时限"/>
            </s2c>
        </msg>
        <msg id="7" name="pve_finish" desc="pve结束" >
            <c2s>
                <f t="uint32" name="pve_id"  desc="pve关卡"/>
                <f t="uint8" name="pve_win"  desc="是否胜利，1为胜利，2为失败"/>
                <f t="uint32" name="pve_score" desc="pve level score"/>
                <f t="uint8" name="remain_steps_time" desc="剩余时间/步数"/>
            </c2s>
        </msg>
        <msg id="8" name="pvp_finish" desc="pvp结束" >
            <c2s>
                <f t="uint32" name="match_once"  desc="单次多消个数"/>
            </c2s>
        </msg>
        <msg id="9" name="guide_finish" desc="新手指引结束">
            <c2s>
                <f t="uint32" name="guide_finish" desc="是否完成，1为完成"/>
            </c2s>
        </msg>
        <msg id="10" name="ai_finish" desc="Ai finish">
            <c2s>
                <f t="uint32" name="save_animal_count" desc="save animal count"/>
                <f t="uint32" name="win_side" desc="0 ping; 1 person; 2 ai win"/>
            </c2s>
        </msg>
        <msg id="11" name="start_pve" desc="start pve">
            <c2s>
            </c2s>
            <s2c>
                <f t="uint8" name="started" desc="0:start 1:not start"/>
            </s2c>
        </msg>
        <msg id="12" name="active_buff" desc="pvp 使用buff">
            <c2s>
                <f t="uint8" name="slot_id" desc="技能槽id"/>
            </c2s>
            <s2c>
                <f t="uint8" name="buff_id" desc="发动的BuffId, 1.清屏 2.云 3.随机小火箭 4.随机大火箭"/>
                <f t="uint8"  name="effect_side" desc="对哪一方起作用"/>
                <f t="uint8" name="effected" desc="buff是否成功施加 0.失败 1.成功"/>
            </s2c>
        </msg>
        <msg id="13" name="stolen_animal" desc="宠物被偷">
            <c2s>
                <f t="uint8" name="num" desc="己方被对面偷的宠物数量"/>
            </c2s>
            <s2c>
                <f t="uint32" name="steal_count"  desc="偷的个数" />
                <f t="uint8"  name="animal_side" desc="阵营 1红方,2蓝方"/>
            </s2c>
        </msg>
        <msg id="14" name="board_status" desc="棋盘状态">
            <c2s>
                <f t="uint8" name="animal_num" desc="当前棋盘宠物个数"/>
            </c2s>
            <s2c>
                <f t="uint8" name="animal_num" desc="当前棋盘宠物个数"/>
                <f t="uint8" name="side" desc="阵营 1红方,2蓝方"/>
            </s2c>
        </msg>
    </section>
    <section id="21" name="buff" desc="buff相关">
        <msg id="1" name="buff_status" desc="获取buff状态">
            <c2s></c2s>
            <s2c>
                <f t="uint8" name="slot_id" desc="技能槽id"/>
                <f t="uint8" name="buff_id" desc="buff id"/>
                <f t="uint8" name="number" desc="buff数量"/>
            </s2c>
        </msg>
        <msg id="2" name="gen" desc="生成新buff">
            <c2s></c2s>
            <s2c>
                <f t="uint8" name="success" desc="生成是否成功，0失败，1成功"/>
                <f t="uint8" name="reason" desc="成功reason为0， 失败：1表示buff烂已经满"/>
            </s2c>
        </msg>
    </section>
    <section id="22" name="sign_in" desc="签到相关">
        <msg id="1" name="sign" desc="签到">
            <c2s>
                <f t="uint8" name="slot" desc="签到哪一天，0代表今日签到，1-7用于其他补签"/>
            </c2s>
            <s2c>
                <f t="uint8" name="slot" desc="签到哪一天"/>
                <loop t="p_goods" name="reward" desc="签到获得的奖励"/>
            </s2c>
        </msg>
        <msg id="2" name="sign_list" desc="请求签到表">
            <c2s>
            </c2s>
            <s2c>
                <loop t="p_sign_slot" name="list" desc="签到列表"/>
            </s2c>
        </msg>
    </section>
</protocol>

